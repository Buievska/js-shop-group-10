import{A as P,a as M,i as m,S as q,N as I,P as O}from"./assets/vendor-gtGqnvfC.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".header-logo"),t=document.querySelector(".burger-btn"),s=document.querySelector(".close-btn"),i=document.querySelector(".menu"),n=document.querySelector(".menu-overlay"),r=document.body,c=()=>{i&&n&&r&&(i.classList.add("open"),n.classList.add("visible"),r.classList.add("no-scroll"))},p=()=>{i&&n&&r&&(i.classList.remove("open"),n.classList.remove("visible"),r.classList.remove("no-scroll"))};t&&t.addEventListener("click",c),s&&s.addEventListener("click",p),n&&n.addEventListener("click",p),e&&e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),document.addEventListener("keydown",_=>{_.key==="Escape"&&p()})});const T="/js-shop-group-10/assets/dekor-aksesuari-CzSw66Lx.png",A="/js-shop-group-10/assets/kuhni-Ds7FpeDL.png",D="/js-shop-group-10/assets/lizka-matratsi-BnPQg_He.png",H="/js-shop-group-10/assets/mebli-dytyacha-nZuEc4S1.png",x="/js-shop-group-10/assets/mebli-ofis-iLK_KSPZ.png",z="/js-shop-group-10/assets/mebli-peredpokiy-DpNoEvTU.png",N="/js-shop-group-10/assets/mebli-vanna-B9PodWXR.png",R="/js-shop-group-10/assets/myaki-mebli-CcMdjE-B.png",F="/js-shop-group-10/assets/sadovi-mebli-DMjJP5lX.png",U="/js-shop-group-10/assets/shafy-sistemy-zberigannya-CBoZdwp0.png",Z="/js-shop-group-10/assets/stiltsi-taburety-BZ3WUpJg.png",V="/js-shop-group-10/assets/stoly-BXNbRvZr.png",G="/js-shop-group-10/assets/vsi-tovary-Dl7iIiub.png",j="https://furniture-store.b.goit.study/api",h=document.getElementById("category-list"),K=document.getElementById("furniture-list"),o=document.getElementById("pagination"),g=document.getElementById("load-more-mobile");let v=1,u=[],a=1;const $=8;let w="",L=1;(function(){document.body.insertAdjacentHTML("afterbegin",`
    <svg xmlns="http://www.w3.org/2000/svg" style="display:none;">
      <symbol id="icon-left-arrow" viewBox="0 0 32 32">
        <path d="M16.943 23.057l-5.724-5.724h12.781v-2.667h-12.781l5.724-5.724-1.885-1.885-8.943 8.943 8.943 8.943 1.885-1.885z"></path>
      </symbol>
      <symbol id="icon-right-arrow" viewBox="0 0 32 32">
        <path d="M15.057 23.057l1.885 1.885 8.943-8.943-8.943-8.943-1.885 1.885 5.724 5.724h-12.781v2.667h12.781l-5.724 5.724z"></path>
      </symbol>
    </svg>
  `)})();async function W(){const e=await fetch(`${j}/categories`);if(!e.ok)throw new Error("Помилка отримання категорій");return await e.json()}async function B(e=1,t=""){let s=`${j}/furnitures?page=${e}&limit=${$}`;t&&(s+=`&category=${t}`);const i=await fetch(s);if(!i.ok)throw new Error("Помилка отримання меблів");return await i.json()}function E(e){return new URL(Object.assign({"../img/furniture-list/dekor-aksesuari.png":T,"../img/furniture-list/kuhni.png":A,"../img/furniture-list/lizka-matratsi.png":D,"../img/furniture-list/mebli-dytyacha.png":H,"../img/furniture-list/mebli-ofis.png":x,"../img/furniture-list/mebli-peredpokiy.png":z,"../img/furniture-list/mebli-vanna.png":N,"../img/furniture-list/myaki-mebli.png":R,"../img/furniture-list/sadovi-mebli.png":F,"../img/furniture-list/shafy-sistemy-zberigannya.png":U,"../img/furniture-list/stiltsi-taburety.png":Z,"../img/furniture-list/stoly.png":V,"../img/furniture-list/vsi-tovary.png":G})[`../img/furniture-list/${e}`],import.meta.url).href}function X(e){const t=E("vsi-tovary.png"),s={"Всі товари":"vsi-tovary.png","М'які меблі":"myaki-mebli.png","Шафи та системи зберігання":"shafy-sistemy-zberigannya.png","Ліжка та матраци":"lizka-matratsi.png",Столи:"stoly.png","Стільці та табурети":"stiltsi-taburety.png",Кухні:"kuhni.png","Меблі для дитячої":"mebli-dytyacha.png","Меблі для офісу":"mebli-ofis.png","Меблі для передпокою":"mebli-peredpokiy.png","Меблі для ванної кімнати":"mebli-vanna.png","Садові та вуличні меблі":"sadovi-mebli.png","Декор та аксесуари":"dekor-aksesuary.png"},i=e.map(n=>{const r=n.name.replace(/^"|"$/g,""),c=s[r]||"vsi-tovary.png",p=E(c);return`
        <li class="category-btn-tile" data-category="${n._id}">
          <img src="${p}" alt="${r}" onerror="this.onerror=null;this.src='${t}'" />
          <span class="category-label">${r}</span>
        </li>
      `}).join("");h.innerHTML=`
    <li class="category-btn-tile active" data-category="">
      <img src="${t}" alt="Всі товари" />
      <span class="category-label">Всі товари</span>
    </li>
    ${i}
  `}function C(e){K.innerHTML=e.map(({images:t,name:s,color:i,price:n,_id:r})=>`
    <li class="furniture-item" data-id="${r}">
      <img src="${t[0]}" alt="${s}" />
      <div class="furniture-item-content">
        <h3>${s}</h3>
        <div>${J(i)}</div>
        <p>${n} грн</p>
        <button class="details-btn" data-id="${r}">Детальніше</button>
      </div>
    </li>
  `).join("")}function J(e){return(Array.isArray(e)?e:[e]).map(s=>`<span class="color-swatch" title="${s}" style="background-color: ${s};"></span>`).join("")}function d(e,{active:t=!1,onClick:s=null}={}){const i=document.createElement("button");return i.textContent=e,i.classList.add("page-btn"),t&&i.classList.add("active"),s&&i.addEventListener("click",s),i}function S(e,{disabled:t=!1}={},s=null){const i=document.createElement("button");i.classList.add("btn-circle"),t&&(i.disabled=!0),!t&&s&&i.addEventListener("click",s);const n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("width","25"),n.setAttribute("height","25");const r=document.createElementNS("http://www.w3.org/2000/svg","use");return r.setAttributeNS("http://www.w3.org/1999/xlink","href",e==="left"?"#icon-left-arrow":"#icon-right-arrow"),n.appendChild(r),i.appendChild(n),i}function y(){const e=document.createElement("span");return e.classList.add("pagination-dots"),e.innerHTML='<span class="dot"></span><span class="dot"></span><span class="dot"></span>',e}function Q(e,t){if(o.innerHTML="",o.appendChild(S("left",{disabled:e===1},()=>{a--,l()})),t<=5)for(let s=1;s<=t;s++)o.appendChild(d(s,{active:s===e,onClick:()=>{a=s,l()}}));else if(e<=3){for(let s=1;s<=3;s++)o.appendChild(d(s,{active:s===e,onClick:()=>{a=s,l()}}));o.appendChild(y()),o.appendChild(d(t,{onClick:()=>{a=t,l()}}))}else if(e>=t-2){o.appendChild(d(1,{onClick:()=>{a=1,l()}})),o.appendChild(y());for(let s=t-2;s<=t;s++)o.appendChild(d(s,{active:s===e,onClick:()=>{a=s,l()}}))}else o.appendChild(d(1,{onClick:()=>{a=1,l()}})),o.appendChild(y()),o.appendChild(d(e-1,{onClick:()=>{a--,l()}})),o.appendChild(d(e,{active:!0})),o.appendChild(d(e+1,{onClick:()=>{a++,l()}})),o.appendChild(y()),o.appendChild(d(t,{onClick:()=>{a=t,l()}}));o.appendChild(S("right",{disabled:e===t},()=>{a++,l()}))}async function l(){const e=window.innerWidth<=768;try{const t=await B(e?1:a,w);L=Math.ceil(t.totalItems/$),e?(v===1&&(u=t.furnitures),C(u),g&&(g.style.display=u.length>=t.totalItems?"none":"inline-block"),o.innerHTML="",o.classList.add("hidden")):(C(t.furnitures),g&&(g.style.display="none"),L>1?(Q(a,L),o.classList.remove("hidden")):(o.innerHTML="",o.classList.add("hidden")))}catch(t){console.error("Помилка завантаження меблів:",t)}}h&&h.addEventListener("click",e=>{const t=e.target.closest("li.category-btn-tile");t&&w!==t.dataset.category&&(w=t.dataset.category,a=1,v=1,u=[],[...h.children].forEach(s=>s.classList.remove("active")),t.classList.add("active"),l())});g&&g.addEventListener("click",async()=>{v++;try{const e=await B(v,w);u=[...u,...e.furnitures],C(u),u.length>=e.totalItems&&(g.style.display="none")}catch(e){console.error('Помилка завантаження меблів при "Показати ще":',e)}});(async function(){try{const t=await W();X(t),l()}catch(t){console.error("Помилка ініціалізації:",t)}})();document.addEventListener("DOMContentLoaded",function(){new P(".accordion-container",{duration:300,showMultiple:!1,openOnInit:[],elementClass:"ac",triggerClass:"ac-trigger",panelClass:"ac-panel",activeClass:"is-active"})});document.querySelector(".js-feedback-cart");document.querySelector(".js-btn-back");document.querySelector(".js-btn-forward");function Y(e){return e>=3.3&&e<=3.7?3.5:e>=3.8&&e<=4.2?4:Math.round(e*2)/2}function ee(e,t=5){let s="";for(let i=1;i<=t;i++)e>=i?s+='<span class="star star--full">★</span>':e>=i-.5?s+=`
        <span class="star star--half">
          <span class="star-bg">★</span>
          <span class="star-fg">★</span>
        </span>`:s+='<span class="star star--empty">★</span>';return s}function te(e){return e.map(({name:t,descr:s,rate:i})=>`
        <div class="swiper-slide">
          <div class="feedback-item">
            <div class="star-rating">${ee(Y(i))}</div>
            <p class="feedback-descr">"${s}"</p>
            <p class="feedback-name">${t}</p>
          </div>
        </div>
      `).join("")}async function se(){const e=document.querySelector(".js-feedback-cart");if(e)try{const s=(await M.get("https://furniture-store.b.goit.study/api/feedbacks?limit=10")).data.feedbacks;if(!s||s.length===0){m.error({title:"Error",message:"Щось пішло не так. Спробуйте пізніше.",position:"topRight"});return}e.innerHTML=te(s);const i=s.length>3,n=5,r=new q(".feedback-slider",{modules:[I,O],slidesPerGroup:1,slidesPerView:1,spaceBetween:16,loop:!0,pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(c,p){return c<n?`<span class="${p}"></span>`:""}},navigation:{nextEl:".js-btn-forward",prevEl:".js-btn-back"},breakpoints:{768:{slidesPerGroup:1,slidesPerView:2,spaceBetween:24},1440:{slidesPerGroup:1,slidesPerView:3,spaceBetween:24}}});r.on("slideChange",()=>{const c=document.querySelectorAll(".swiper-pagination-bullet");c.forEach(_=>_.classList.remove("swiper-pagination-bullet-active"));const p=r.realIndex%n;c[p].classList.add("swiper-pagination-bullet-active")})}catch{m.error({title:"Error",message:"Щось пішло не так. Спробуйте пізніше.",position:"topRight"})}}se();const b=document.querySelector(".order-modal-overlay"),k=document.querySelector(".order-modal-form");function f(e){const t=document.querySelector(".open-order");t&&(t.classList.remove("open-order"),document.removeEventListener("keydown",s=>{s.key==="Escape"&&f()}))}function ne(e){b&&(e.preventDefault(),b.classList.add("open-order"),document.addEventListener("keydown",t=>{t.key==="Escape"&&f()}),b.addEventListener("click",t=>{t.target===b&&f()}))}k.addEventListener("submit",async e=>{if(e.preventDefault(),!k.checkValidity()){m.warning({title:"Увага",message:"Будь ласка, заповніть всі обов’язкові поля",position:"topRight"});return}const t=e.target.elements["user-email"].value.trim(),s=e.target.elements["user-phone"].value.trim(),i=e.target.elements["user-comment"].value.trim(),n={email:t,phone:s,modelId:"682f9bbf8acbdf505592ac36",color:"#1212ca",comment:i};try{const r=await M.post("https://furniture-store.b.goit.study/api-docs/#/order",n);m.success({title:"Готово!",message:"Замовлення успішно створено",position:"topRight"}),f(),k.reset()}catch{m.error({title:"Помилка",message:"Не вдалося створити замовлення",position:"topRight"})}});const ie=document.querySelector(".order-modal-close");ie.addEventListener("click",f);const re=document.querySelector(".btn-btn");re.addEventListener("click",ne);
//# sourceMappingURL=index.js.map
