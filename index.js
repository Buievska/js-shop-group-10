import{A as O,a as I,i as f,S as T,N as H,P as D}from"./assets/vendor-gtGqnvfC.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".header"),t=document.querySelector(".menu"),s=document.querySelector(".burger-btn"),n=document.querySelector(".close-btn"),i=document.querySelector(".menu-overlay"),o=document.body,a=document.querySelectorAll('a[href^="#"]');if(!t||!s||!e||!o)return;const d=()=>{t.classList.contains("is-open")&&(t.classList.remove("is-open"),e.classList.remove("menu-is-open"),o.classList.remove("no-scroll"))},_=()=>{const m=t.classList.toggle("is-open");e.classList.toggle("menu-is-open",m),o.classList.toggle("no-scroll",m)};s.addEventListener("click",_),n&&n.addEventListener("click",d),i&&i.addEventListener("click",d),document.addEventListener("keydown",m=>{m.key==="Escape"&&d()}),a.forEach(m=>{m.addEventListener("click",function(z){z.preventDefault();const j=document.querySelector(this.getAttribute("href"));j&&j.scrollIntoView({behavior:"smooth"}),d()})})});const N="/js-shop-group-10/assets/dekor-aksesuari-CzSw66Lx.png",R="/js-shop-group-10/assets/kuhni-Ds7FpeDL.png",F="/js-shop-group-10/assets/lizka-matratsi-BnPQg_He.png",V="/js-shop-group-10/assets/mebli-dytyacha-nZuEc4S1.png",G="/js-shop-group-10/assets/mebli-ofis-iLK_KSPZ.png",U="/js-shop-group-10/assets/mebli-peredpokiy-DpNoEvTU.png",Z="/js-shop-group-10/assets/mebli-vanna-B9PodWXR.png",K="/js-shop-group-10/assets/myaki-mebli-CcMdjE-B.png",W="/js-shop-group-10/assets/sadovi-mebli-DMjJP5lX.png",X="/js-shop-group-10/assets/shafy-sistemy-zberigannya-CBoZdwp0.png",J="/js-shop-group-10/assets/stiltsi-taburety-BZ3WUpJg.png",Q="/js-shop-group-10/assets/stoly-BXNbRvZr.png",Y="/js-shop-group-10/assets/vsi-tovary-Dl7iIiub.png",q="https://furniture-store.b.goit.study/api",b=document.getElementById("category-list"),ee=document.getElementById("furniture-list"),r=document.getElementById("pagination"),g=document.getElementById("load-more-mobile");let L=1,u=[],l=1;const A=8;let k="",E=1;(function(){document.body.insertAdjacentHTML("afterbegin",`
    <svg xmlns="http://www.w3.org/2000/svg" style="display:none;">
      <symbol id="icon-left-arrow" viewBox="0 0 32 32">
        <path d="M16.943 23.057l-5.724-5.724h12.781v-2.667h-12.781l5.724-5.724-1.885-1.885-8.943 8.943 8.943 8.943 1.885-1.885z"></path>
      </symbol>
      <symbol id="icon-right-arrow" viewBox="0 0 32 32">
        <path d="M15.057 23.057l1.885 1.885 8.943-8.943-8.943-8.943-1.885 1.885 5.724 5.724h-12.781v2.667h12.781l-5.724 5.724z"></path>
      </symbol>
    </svg>
  `)})();async function te(){const e=await fetch(`${q}/categories`);if(!e.ok)throw new Error("Помилка отримання категорій");return await e.json()}async function x(e=1,t=""){let s=`${q}/furnitures?page=${e}&limit=${A}`;t&&(s+=`&category=${t}`);const n=await fetch(s);if(!n.ok)throw new Error("Помилка отримання меблів");return await n.json()}function B(e){return new URL(Object.assign({"../img/furniture-list/dekor-aksesuari.png":N,"../img/furniture-list/kuhni.png":R,"../img/furniture-list/lizka-matratsi.png":F,"../img/furniture-list/mebli-dytyacha.png":V,"../img/furniture-list/mebli-ofis.png":G,"../img/furniture-list/mebli-peredpokiy.png":U,"../img/furniture-list/mebli-vanna.png":Z,"../img/furniture-list/myaki-mebli.png":K,"../img/furniture-list/sadovi-mebli.png":W,"../img/furniture-list/shafy-sistemy-zberigannya.png":X,"../img/furniture-list/stiltsi-taburety.png":J,"../img/furniture-list/stoly.png":Q,"../img/furniture-list/vsi-tovary.png":Y})[`../img/furniture-list/${e}`],import.meta.url).href}function se(e){const t=B("vsi-tovary.png"),s={"Всі товари":"vsi-tovary.png","М'які меблі":"myaki-mebli.png","Шафи та системи зберігання":"shafy-sistemy-zberigannya.png","Ліжка та матраци":"lizka-matratsi.png",Столи:"stoly.png","Стільці та табурети":"stiltsi-taburety.png",Кухні:"kuhni.png","Меблі для дитячої":"mebli-dytyacha.png","Меблі для офісу":"mebli-ofis.png","Меблі для передпокою":"mebli-peredpokiy.png","Меблі для ванної кімнати":"mebli-vanna.png","Садові та вуличні меблі":"sadovi-mebli.png","Декор та аксесуари":"dekor-aksesuary.png"},n=e.map(i=>{const o=i.name.replace(/^"|"$/g,""),a=s[o]||"vsi-tovary.png",d=B(a);return`
        <li class="category-btn-tile" data-category="${i._id}">
          <img src="${d}" alt="${o}" onerror="this.onerror=null;this.src='${t}'" />
          <span class="category-label">${o}</span>
        </li>
      `}).join("");b.innerHTML=`
    <li class="category-btn-tile active" data-category="">
      <img src="${t}" alt="Всі товари" />
      <span class="category-label">Всі товари</span>
    </li>
    ${n}
  `}function $(e){ee.innerHTML=e.map(({images:t,name:s,color:n,price:i,_id:o})=>`
    <li class="furniture-item" data-id="${o}">
      <img src="${t[0]}" alt="${s}" />
      <div class="furniture-item-content">
        <h3>${s}</h3>
        <div>${ne(n)}</div>
        <p>${i} грн</p>
        <button class="details-btn" data-id="${o}">Детальніше</button>
      </div>
    </li>
  `).join("")}function ne(e){return(Array.isArray(e)?e:[e]).map(s=>`<span class="color-swatch" title="${s}" style="background-color: ${s};"></span>`).join("")}function p(e,{active:t=!1,onClick:s=null}={}){const n=document.createElement("button");return n.textContent=e,n.classList.add("page-btn"),t&&n.classList.add("active"),s&&n.addEventListener("click",s),n}function P(e,{disabled:t=!1}={},s=null){const n=document.createElement("button");n.classList.add("btn-circle"),t&&(n.disabled=!0),!t&&s&&n.addEventListener("click",s);const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width","25"),i.setAttribute("height","25");const o=document.createElementNS("http://www.w3.org/2000/svg","use");return o.setAttributeNS("http://www.w3.org/1999/xlink","href",e==="left"?"#icon-left-arrow":"#icon-right-arrow"),i.appendChild(o),n.appendChild(i),n}function y(){const e=document.createElement("span");return e.classList.add("pagination-dots"),e.innerHTML='<span class="dot"></span><span class="dot"></span><span class="dot"></span>',e}function ie(e,t){if(r.innerHTML="",r.appendChild(P("left",{disabled:e===1},()=>{l--,c()})),t<=5)for(let s=1;s<=t;s++)r.appendChild(p(s,{active:s===e,onClick:()=>{l=s,c()}}));else if(e<=3){for(let s=1;s<=3;s++)r.appendChild(p(s,{active:s===e,onClick:()=>{l=s,c()}}));r.appendChild(y()),r.appendChild(p(t,{onClick:()=>{l=t,c()}}))}else if(e>=t-2){r.appendChild(p(1,{onClick:()=>{l=1,c()}})),r.appendChild(y());for(let s=t-2;s<=t;s++)r.appendChild(p(s,{active:s===e,onClick:()=>{l=s,c()}}))}else r.appendChild(p(1,{onClick:()=>{l=1,c()}})),r.appendChild(y()),r.appendChild(p(e-1,{onClick:()=>{l--,c()}})),r.appendChild(p(e,{active:!0})),r.appendChild(p(e+1,{onClick:()=>{l++,c()}})),r.appendChild(y()),r.appendChild(p(t,{onClick:()=>{l=t,c()}}));r.appendChild(P("right",{disabled:e===t},()=>{l++,c()}))}async function c(){const e=window.innerWidth<=768;try{const t=await x(e?1:l,k);E=Math.ceil(t.totalItems/A),e?(L===1&&(u=t.furnitures),$(u),g&&(g.style.display=u.length>=t.totalItems?"none":"inline-block"),r.innerHTML="",r.classList.add("hidden")):($(t.furnitures),g&&(g.style.display="none"),E>1?(ie(l,E),r.classList.remove("hidden")):(r.innerHTML="",r.classList.add("hidden")))}catch(t){console.error("Помилка завантаження меблів:",t)}}b&&b.addEventListener("click",e=>{const t=e.target.closest("li.category-btn-tile");t&&k!==t.dataset.category&&(k=t.dataset.category,l=1,L=1,u=[],[...b.children].forEach(s=>s.classList.remove("active")),t.classList.add("active"),c())});g&&g.addEventListener("click",async()=>{L++;try{const e=await x(L,k);u=[...u,...e.furnitures],$(u),u.length>=e.totalItems&&(g.style.display="none")}catch(e){console.error('Помилка завантаження меблів при "Показати ще":',e)}});(async function(){try{const t=await te();se(t),c()}catch(t){console.error("Помилка ініціалізації:",t)}})();document.addEventListener("DOMContentLoaded",function(){new O(".accordion-container",{duration:300,showMultiple:!1,openOnInit:[],elementClass:"ac",triggerClass:"ac-trigger",panelClass:"ac-panel",activeClass:"is-active"})});document.querySelector(".js-feedback-cart");document.querySelector(".js-btn-back");document.querySelector(".js-btn-forward");function oe(e){return e>=3.3&&e<=3.7?3.5:e>=3.8&&e<=4.2?4:Math.round(e*2)/2}function re(e,t=5){let s="";for(let n=1;n<=t;n++)e>=n?s+='<span class="star star--full">★</span>':e>=n-.5?s+=`
        <span class="star star--half">
          <span class="star-bg">★</span>
          <span class="star-fg">★</span>
        </span>`:s+='<span class="star star--empty">★</span>';return s}function ae(e){return e.map(({name:t,descr:s,rate:n})=>`
        <div class="swiper-slide">
          <div class="feedback-item">
            <div class="star-rating">${re(oe(n))}</div>
            <p class="feedback-descr">"${s}"</p>
            <p class="feedback-name">${t}</p>
          </div>
        </div>
      `).join("")}async function le(){const e=document.querySelector(".js-feedback-cart");if(e)try{const s=(await I.get("https://furniture-store.b.goit.study/api/feedbacks?limit=10")).data.feedbacks;if(!s||s.length===0){f.error({title:"Error",message:"Щось пішло не так. Спробуйте пізніше.",position:"topRight"});return}e.innerHTML=ae(s);const n=s.length>3,i=5,o=new T(".feedback-slider",{modules:[H,D],slidesPerGroup:1,slidesPerView:1,spaceBetween:16,loop:!0,pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(a,d){return a<i?`<span class="${d}"></span>`:""}},navigation:{nextEl:".js-btn-forward",prevEl:".js-btn-back"},breakpoints:{768:{slidesPerGroup:1,slidesPerView:2,spaceBetween:24},1440:{slidesPerGroup:1,slidesPerView:3,spaceBetween:24}}});o.on("slideChange",()=>{const a=document.querySelectorAll(".swiper-pagination-bullet");a.forEach(_=>_.classList.remove("swiper-pagination-bullet-active"));const d=o.realIndex%i;a[d].classList.add("swiper-pagination-bullet-active")})}catch{f.error({title:"Error",message:"Щось пішло не так. Спробуйте пізніше.",position:"topRight"})}}le();const M=document.getElementById("modal"),ce=document.getElementById("modal-body"),de=document.getElementById("modal-close");document.querySelector(".furniture-list");let w;const pe=()=>{fetch("https://furniture-store.b.goit.study/api/furnitures?page=1&limit=10").then(e=>{if(!e.ok)throw new Error("Error");return e.json()}).then(e=>{w=e}).catch(e=>{console.error("Error while fetching furnitures",e)})};pe();document.querySelector(".furniture-list").addEventListener("click",e=>{var t;if(e.target.matches(".details-btn")){const s=e.target.dataset.id,n=(t=w==null?void 0:w.furnitures)==null?void 0:t.find(i=>i._id===s);n&&ge(n)}});function ue(e=0){const t=Math.floor(e),s=e%1>=.5,n=5-t-(s?1:0),i='<svg class="star-icon" viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.786L19.335 24 12 19.897 4.665 24l1.401-8.998L.132 9.21l8.2-1.192z"/></svg>',o='<svg class="star-icon half" viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><defs><linearGradient id="grad"><stop offset="50%" stop-color="currentColor"/><stop offset="50%" stop-color="#ccc"/></defs><path fill="url(#grad)" d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.786L19.335 24 12 19.897 4.665 24l1.401-8.998L.132 9.21l8.2-1.192z"/></svg>';let a="";return a+=i.repeat(t),s&&(a+=o),a+='<svg class="star-icon empty" viewBox="0 0 24 24" width="20" height="20" fill="#ccc"><path d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.786L19.335 24 12 19.897 4.665 24l1.401-8.998L.132 9.21l8.2-1.192z"/></svg>'.repeat(n),`<div class="rating-stars">${a}</div>`}function ge(e){ce.innerHTML=`
    <div class="modal-wrapper">
      <div class="modal-images">
        <img class="main-image" src="${e.images[0]}" alt="${e.name}" />
        <div class="modal-thumbs">${e.images.slice(1).map(s=>`<img src="${s}" alt="${e.name}"/>`).join("")}</div>
      </div>
      <div class="modal-info">
        <h2 class="modal-title">${e.name}</h2>
        <p class="modal-subtitle">${e.category.name}</p>
        <p class="modal-price">${e.price.toLocaleString()} грн</p>
        ${ue(e.rate||0)}
        <div class="modal-colors"><p>Колір:</p> <div class="color-list">${me(e.color)}</div></div>
        <p class="modal-description">${e.description}</p>
        <p class="modal-size">Розмір: ${e.sizes||"280x180x85"}</p>
        <button class="modal-order-btn">Перейти до замовлення</button>
      </div>
    </div>
  `,M.classList.remove("hidden"),document.body.style.overflow="hidden";const t=document.querySelectorAll(".modal .color-swatch");t[0].classList.add("selected"),t.forEach(s=>{s.addEventListener("click",n=>{t.forEach(i=>i.classList.remove("selected")),n.currentTarget.classList.add("selected")})})}function me(e){return Array.isArray(e)?e.map(t=>`<span class="color-swatch" title="${t}" style="background-color: ${t};"></span>`).join(""):`<span class="color-swatch" title="${e}" style="background-color: ${e};"></span>`}function S(){M.classList.add("hidden"),document.body.style.overflow=""}de.addEventListener("click",S);window.addEventListener("click",e=>{e.target===M&&S()});window.addEventListener("keydown",e=>{e.key==="Escape"&&S()});const v=document.querySelector(".order-modal-overlay"),C=document.querySelector(".order-modal-form");function h(e){const t=document.querySelector(".open-order");t&&(t.classList.remove("open-order"),document.removeEventListener("keydown",s=>{s.key==="Escape"&&h()}))}function fe(e){v&&(document.getElementById("modal").classList.add("hidden"),v.classList.add("open-order"),document.addEventListener("keydown",s=>{s.key==="Escape"&&h()}),v.addEventListener("click",s=>{s.target===v&&h()}))}C.addEventListener("submit",async e=>{if(e.preventDefault(),!C.checkValidity()){f.warning({title:"Увага",message:"Будь ласка, заповніть всі обов’язкові поля",position:"topRight"});return}const t=e.target.elements["user-email"].value.trim(),s=e.target.elements["user-phone"].value.trim(),n=e.target.elements["user-comment"].value.trim(),i={email:t,phone:s,modelId:"682f9bbf8acbdf505592ac36",color:"#1212ca",comment:n};try{const o=await I.post("https://furniture-store.b.goit.study/api-docs/#/order",i);f.success({title:"Готово!",message:"Замовлення успішно створено",position:"topRight"}),h(),C.reset()}catch{f.error({title:"Помилка",message:"Не вдалося створити замовлення",position:"topRight"})}});const he=document.querySelector(".order-modal-close");he.addEventListener("click",h);document.addEventListener("click",e=>{e.target.matches(".modal-order-btn")&&fe()});
//# sourceMappingURL=index.js.map
