import{i as w,N as Q,P as Y,S as ee,A as de,a as te}from"./assets/vendor-CUDRsqBn.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".header"),t=document.querySelector(".menu"),s=document.querySelector(".burger-btn"),n=document.querySelector(".close-btn"),i=document.querySelector(".menu-overlay"),o=document.body,r=document.querySelectorAll('a[href^="#"]');if(!t||!s||!e||!o)return;const c=()=>{t.classList.contains("is-open")&&(t.classList.remove("is-open"),e.classList.remove("menu-is-open"),o.classList.remove("no-scroll"))},u=()=>{const m=t.classList.toggle("is-open");e.classList.toggle("menu-is-open",m),o.classList.toggle("no-scroll",m)};s.addEventListener("click",u),n&&n.addEventListener("click",c),i&&i.addEventListener("click",c),document.addEventListener("keydown",m=>{m.key==="Escape"&&c()}),r.forEach(m=>{m.addEventListener("click",function(C){C.preventDefault();const v=document.querySelector(this.getAttribute("href"));v&&v.scrollIntoView({behavior:"smooth"}),c()})})});const ue="/js-shop-group-10/assets/dekor-aksesuari-CzSw66Lx.png",pe="/js-shop-group-10/assets/kuhni-Ds7FpeDL.png",me="/js-shop-group-10/assets/lizka-matratsi-BnPQg_He.png",ge="/js-shop-group-10/assets/mebli-dytyacha-nZuEc4S1.png",fe="/js-shop-group-10/assets/mebli-ofis-iLK_KSPZ.png",he="/js-shop-group-10/assets/mebli-peredpokiy-DpNoEvTU.png",ve="/js-shop-group-10/assets/mebli-vanna-B9PodWXR.png",ye="/js-shop-group-10/assets/myaki-mebli-CcMdjE-B.png",be="/js-shop-group-10/assets/sadovi-mebli-DMjJP5lX.png",we="/js-shop-group-10/assets/shafy-sistemy-zberigannya-CBoZdwp0.png",Le="/js-shop-group-10/assets/stiltsi-taburety-BZ3WUpJg.png",Ee="/js-shop-group-10/assets/stoly-BXNbRvZr.png",$e="/js-shop-group-10/assets/vsi-tovary-Dl7iIiub.png",se="https://furniture-store.b.goit.study/api",j=document.getElementById("category-list"),ne=document.getElementById("furniture-list"),a=document.getElementById("pagination"),L=document.getElementById("load-more-mobile");let _=1,f=[],l=1;const ie=8;let T="",z=1;(function(){document.body.insertAdjacentHTML("afterbegin",`
    <svg xmlns="http://www.w3.org/2000/svg" style="display:none;">
      <symbol id="icon-left-arrow" viewBox="0 0 32 32">
        <path d="M16.943 23.057l-5.724-5.724h12.781v-2.667h-12.781l5.724-5.724-1.885-1.885-8.943 8.943 8.943 8.943 1.885-1.885z"></path>
      </symbol>
      <symbol id="icon-right-arrow" viewBox="0 0 32 32">
        <path d="M15.057 23.057l1.885 1.885 8.943-8.943-8.943-8.943-1.885 1.885 5.724 5.724h-12.781v2.667h12.781l-5.724 5.724z"></path>
      </symbol>
    </svg>
  `)})();async function ke(){const e=await fetch(`${se}/categories`);if(!e.ok)throw new Error("–ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–∞—Ç–µ–≥–æ—Ä—ñ–π");return await e.json()}async function oe(e=1,t=""){let s=`${se}/furnitures?page=${e}&limit=${ie}`;t&&(s+=`&category=${t}`);const n=await fetch(s);if(!n.ok)throw new Error("–ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –º–µ–±–ª—ñ–≤");const i=await n.json();return ne.setAttribute("data-items",JSON.stringify(i==null?void 0:i.furnitures)),i}function G(e){return new URL(Object.assign({"../img/furniture-list/dekor-aksesuari.png":ue,"../img/furniture-list/kuhni.png":pe,"../img/furniture-list/lizka-matratsi.png":me,"../img/furniture-list/mebli-dytyacha.png":ge,"../img/furniture-list/mebli-ofis.png":fe,"../img/furniture-list/mebli-peredpokiy.png":he,"../img/furniture-list/mebli-vanna.png":ve,"../img/furniture-list/myaki-mebli.png":ye,"../img/furniture-list/sadovi-mebli.png":be,"../img/furniture-list/shafy-sistemy-zberigannya.png":we,"../img/furniture-list/stiltsi-taburety.png":Le,"../img/furniture-list/stoly.png":Ee,"../img/furniture-list/vsi-tovary.png":$e})[`../img/furniture-list/${e}`],import.meta.url).href}function _e(e){const t=G("vsi-tovary.png"),s={"–í—Å—ñ —Ç–æ–≤–∞—Ä–∏":"vsi-tovary.png","–ú'—è–∫—ñ –º–µ–±–ª—ñ":"myaki-mebli.png","–®–∞—Ñ–∏ —Ç–∞ —Å–∏—Å—Ç–µ–º–∏ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è":"shafy-sistemy-zberigannya.png","–õ—ñ–∂–∫–∞ —Ç–∞ –º–∞—Ç—Ä–∞—Ü–∏":"lizka-matratsi.png",–°—Ç–æ–ª–∏:"stoly.png","–°—Ç—ñ–ª—å—Ü—ñ —Ç–∞ —Ç–∞–±—É—Ä–µ—Ç–∏":"stiltsi-taburety.png",–ö—É—Ö–Ω—ñ:"kuhni.png","–ú–µ–±–ª—ñ –¥–ª—è –¥–∏—Ç—è—á–æ—ó":"mebli-dytyacha.png","–ú–µ–±–ª—ñ –¥–ª—è –æ—Ñ—ñ—Å—É":"mebli-ofis.png","–ú–µ–±–ª—ñ –¥–ª—è –ø–µ—Ä–µ–¥–ø–æ–∫–æ—é":"mebli-peredpokiy.png","–ú–µ–±–ª—ñ –¥–ª—è –≤–∞–Ω–Ω–æ—ó –∫—ñ–º–Ω–∞—Ç–∏":"mebli-vanna.png","–°–∞–¥–æ–≤—ñ —Ç–∞ –≤—É–ª–∏—á–Ω—ñ –º–µ–±–ª—ñ":"sadovi-mebli.png","–î–µ–∫–æ—Ä —Ç–∞ –∞–∫—Å–µ—Å—É–∞—Ä–∏":"dekor-aksesuary.png"},n=e.map(i=>{const o=i.name.replace(/^"|"$/g,""),r=s[o]||"vsi-tovary.png",c=G(r);return`
        <li class="category-btn-tile" data-category="${i._id}">
          <img src="${c}" alt="${o}" onerror="this.onerror=null;this.src='${t}'" />
          <span class="category-label">${o}</span>
        </li>
      `}).join("");j.innerHTML=`
    <li class="category-btn-tile active" data-category="">
      <img src="${t}" alt="–í—Å—ñ —Ç–æ–≤–∞—Ä–∏" />
      <span class="category-label">–í—Å—ñ —Ç–æ–≤–∞—Ä–∏</span>
    </li>
    ${n}
  `}function F(e){ne.innerHTML=e.map(({images:t,name:s,color:n,price:i,_id:o})=>`
    <li class="furniture-item" data-id="${o}">
      <img src="${t[0]}" alt="${s}" />
      <div class="furniture-item-content">
        <h3>${s}</h3>
        <div>${Ce(n)}</div>
        <p>${i} –≥—Ä–Ω</p>
        <button class="details-btn" data-id="${o}">–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ</button>
      </div>
    </li>
  `).join("")}function Ce(e){return(Array.isArray(e)?e:[e]).map(s=>`<span class="color-swatch" title="${s}" style="background-color: ${s};"></span>`).join("")}function g(e,{active:t=!1,onClick:s=null}={}){const n=document.createElement("button");return n.textContent=e,n.classList.add("page-btn"),t&&n.classList.add("active"),s&&n.addEventListener("click",s),n}function U(e,{disabled:t=!1}={},s=null){const n=document.createElement("button");n.classList.add("btn-circle"),t&&(n.disabled=!0),!t&&s&&n.addEventListener("click",s);const i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width","25"),i.setAttribute("height","25");const o=document.createElementNS("http://www.w3.org/2000/svg","use");return o.setAttributeNS("http://www.w3.org/1999/xlink","href",e==="left"?"#icon-left-arrow":"#icon-right-arrow"),i.appendChild(o),n.appendChild(i),n}function B(){const e=document.createElement("span");return e.classList.add("pagination-dots"),e.innerHTML='<span class="dot"></span><span class="dot"></span><span class="dot"></span>',e}function Se(e,t){if(a.innerHTML="",a.appendChild(U("left",{disabled:e===1},()=>{l--,d()})),t<=5)for(let s=1;s<=t;s++)a.appendChild(g(s,{active:s===e,onClick:()=>{l=s,d()}}));else if(e<=3){for(let s=1;s<=3;s++)a.appendChild(g(s,{active:s===e,onClick:()=>{l=s,d()}}));a.appendChild(B()),a.appendChild(g(t,{onClick:()=>{l=t,d()}}))}else if(e>=t-2){a.appendChild(g(1,{onClick:()=>{l=1,d()}})),a.appendChild(B());for(let s=t-2;s<=t;s++)a.appendChild(g(s,{active:s===e,onClick:()=>{l=s,d()}}))}else a.appendChild(g(1,{onClick:()=>{l=1,d()}})),a.appendChild(B()),a.appendChild(g(e-1,{onClick:()=>{l--,d()}})),a.appendChild(g(e,{active:!0})),a.appendChild(g(e+1,{onClick:()=>{l++,d()}})),a.appendChild(B()),a.appendChild(g(t,{onClick:()=>{l=t,d()}}));a.appendChild(U("right",{disabled:e===t},()=>{l++,d()}))}async function d(){const e=window.innerWidth<=768;try{const t=await oe(e?1:l,T);z=Math.ceil(t.totalItems/ie),e?(_===1&&(f=t.furnitures),F(f),L&&(L.style.display=f.length>=t.totalItems?"none":"inline-block"),a.innerHTML="",a.classList.add("hidden")):(F(t.furnitures),L&&(L.style.display="none"),z>1?(Se(l,z),a.classList.remove("hidden")):(a.innerHTML="",a.classList.add("hidden")))}catch(t){console.error("–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–µ–±–ª—ñ–≤:",t),y("–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –º–µ–±–ª—ñ","error")}}function y(e,t="error"){const s=document.createElement("div");s.className=`toast ${t}`;const n=document.createElement("span");n.className="icon",n.textContent=t==="success"?"üè†":"üõãÔ∏è";const i=document.createElement("span");i.textContent=e,s.appendChild(n),s.appendChild(i),document.body.appendChild(s),setTimeout(()=>s.classList.add("show"),100),setTimeout(()=>{s.classList.remove("show"),setTimeout(()=>s.remove(),500)},4e3)}async function Me(e=!0){if(!navigator.onLine){y("–í—ñ–¥—Å—É—Ç–Ω—ñ–π —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è.","error");return}e&&y("–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–∞—Ç–∞–ª–æ–≥—É...","success");try{const t=await fetch("https://furniture-store.b.goit.study/api/furniture");if(!t.ok)throw new Error("–ü–æ–º–∏–ª–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞");const s=await t.json();console.log("–ö–∞—Ç–∞–ª–æ–≥ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ:",s),y("–ö–∞—Ç–∞–ª–æ–≥ —É—Å–ø—ñ—à–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ!","success")}catch(t){(t.message.includes("Failed to fetch")||t.message.includes("NetworkError"))&&y("–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä—ñ–≤.","error")}}window.addEventListener("offline",()=>{y("–í—ñ–¥—Å—É—Ç–Ω—î —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑‚Äô—î–¥–Ω–∞–Ω–Ω—è. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è","error")});window.addEventListener("online",()=>{y("–Ü–Ω—Ç–µ—Ä–Ω–µ—Ç –∑‚Äô—î–¥–Ω–∞–Ω–Ω—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–æ! –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–∞—Ç–∞–ª–æ–≥—É...","success"),Me(!1)});window.addEventListener("error",e=>{const t=e.message||"";(t.includes("Failed to fetch")||t.includes("NetworkError"))&&y("–ü—Ä–æ–±–ª–µ–º–∞ –∑ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º –¥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É.","error")});function Be(e,t){let s;return function(...n){clearTimeout(s),s=setTimeout(()=>e.apply(this,n),t)}}window.addEventListener("resize",Be(()=>{_=1,f=[],l=1,d()},300));j&&j.addEventListener("click",e=>{const t=e.target.closest("li.category-btn-tile");t&&T!==t.dataset.category&&(T=t.dataset.category,l=1,_=1,f=[],[...j.children].forEach(s=>s.classList.remove("active")),t.classList.add("active"),d())});L&&L.addEventListener("click",async()=>{_++;try{const e=await oe(_,T);f=[...f,...e.furnitures],F(f),f.length>=e.totalItems&&(L.style.display="none")}catch(e){console.error('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–µ–±–ª—ñ–≤ –ø—Ä–∏ "–ü–æ–∫–∞–∑–∞—Ç–∏ —â–µ":',e)}});(async function(){try{const t=await ke();_e(t),d()}catch(t){console.error("–ü–æ–º–∏–ª–∫–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó:",t)}})();const W=document.getElementById("popular-slider-container"),h=document.getElementById("popular-slider"),Z=document.getElementById("btn-left"),J=document.getElementById("btn-right"),I=document.getElementById("slider-indicators"),b=document.getElementById("modal"),E=document.getElementById("modal-body"),q=document.getElementById("modal-close"),$="https://furniture-store.b.goit.study/api",re=8;let H=1,R=null,k=!1;const x=new Map;window.__popularCache=x;const Ie=(e,t=120)=>{let s;return(...n)=>{clearTimeout(s),s=setTimeout(()=>e(...n),t)}};function Ae(e=0){const t=Math.max(0,Math.min(5,Math.round(Number(e)||0)));return`<div class="stars" aria-label="–†–µ–π—Ç–∏–Ω–≥ ${t} –∑ 5">${"‚òÖ".repeat(t)}${"‚òÜ".repeat(5-t)}</div>`}function je(e){return Array.isArray(e)&&e.length?e.map(t=>`<span class="color-swatch" title="${String(t)}" style="background-color:${String(t)};"></span>`).join(""):typeof e=="string"&&e.trim()?`<span class="color-swatch" title="${e}" style="background-color:${e};"></span>`:""}function ae(e={}){var m,C;if(!b||!E)return;const t=Array.isArray(e.images)?e.images:[],s=t[0]||"https://via.placeholder.com/600x450?text=No+Image",n=e.name||"–ë–µ–∑ –Ω–∞–∑–≤–∏",i=((m=e.category)==null?void 0:m.name)||"–ö–∞—Ç–µ–≥–æ—Ä—ñ—è",o=typeof e.price=="number"?e.price.toLocaleString():"N/A",r=e.sizes||"‚Äî",c=e.description||"";E.innerHTML=`
    <div class="modal-wrapper">
      <div class="modal-images">
        <img class="main-image" src="${s}" alt="${n}" />
        <div class="modal-thumbs">
          ${t.slice(1).map(v=>`<img class="modal-thumb" src="${v}" alt="${n}" />`).join("")}
        </div>
      </div>
      <div class="modal-info">
        <h2 class="modal-title">${n}</h2>
        <p class="modal-subtitle">${i}</p>
        <p class="modal-price">${o} –≥—Ä–Ω</p>
        ${Ae(e.rate)}
        <div class="modal-colors">
          <p>–ö–æ–ª—ñ—Ä:</p>
          <div class="color-list">${je(e.color)}</div>
        </div>
        <p class="modal-description">${c}</p>
        <p class="modal-size">–†–æ–∑–º—ñ—Ä: ${r}</p>
        <button class="modal-order-btn">–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
      </div>
    </div>
  `,b.classList.remove("hidden"),document.body.style.overflow="hidden",(C=E.querySelector(".modal-thumbs"))==null||C.addEventListener("click",v=>{const S=v.target.closest(".modal-thumb");if(!S)return;const M=E.querySelector(".main-image");M&&(M.src=S.src)});const u=E.querySelectorAll(".color-swatch");u.length&&(u[0].classList.add("selected"),u.forEach(v=>v.addEventListener("click",S=>{u.forEach(M=>M.classList.remove("selected")),S.currentTarget.classList.add("selected")})))}window.showModal=ae;function N(){b&&(b.classList.add("hidden"),document.body.style.overflow="")}async function le({page:e,limit:t}){const s=`${$}/furnitures?type=popular&page=${e}&limit=${t}`;try{const n=await fetch(s,{headers:{Accept:"application/json"}});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const i=await n.json();if(Array.isArray(i==null?void 0:i.furnitures))return i.furnitures.forEach(o=>x.set(String(o._id),o)),i}catch(n){console.error("Fetch error:",n)}throw new Error("–ù–µ –≤–¥–∞–ª–æ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ –∑ API")}async function Te(e){var s;e=String(e);const t=[`${$}/furnitures/${e}`,`${$}/furniture/${e}`,`${$}/furnitures?id=${e}`,`${$}/furniture?id=${e}`];for(const n of t)try{const i=await fetch(n,{headers:{Accept:"application/json"}});if(!i.ok)continue;const o=await i.json(),r=(o==null?void 0:o.furniture)||((s=o==null?void 0:o.furnitures)==null?void 0:s[0])||(o==null?void 0:o._id)&&o;if(r)return x.set(e,r),r}catch{}return null}function ce(e){return e.map(t=>{var o;const s=((o=t.images)==null?void 0:o[0])||"https://via.placeholder.com/300x200?text=No+Image",n=Array.isArray(t.color)?t.color.slice(0,3):[],i=Array.from({length:3},(r,c)=>{const u=n[c];return u?`<span class="color-dot" style="background:${u}"></span>`:'<span class="color-dot placeholder"></span>'}).join("");return`
      <li class="furniture-card swiper-slide">
        <img src="${s}" alt="${t.name||"–¢–æ–≤–∞—Ä"}" class="card-img" />
        <div class="card-content">
          <h3 class="card-title">${t.name||"–ë–µ–∑ –Ω–∞–∑–≤–∏"}</h3>
          <div class="color-list">${i}</div>
          <p class="card-price">${typeof t.price=="number"?t.price+" –≥—Ä–Ω":"‚Äî"}</p>
          <button class="details-btn" data-id="${t._id}">–î–µ—Ç–∞–ª—å–Ω—ñ—à–µ</button>
        </div>
      </li>`}).join("")}let p=null;const K=7;async function X(){var e;if(!k&&!(R!==null&&h&&h.children.length>=R)){k=!0,H+=1;try{const t=await le({page:H,limit:re});if((e=t==null?void 0:t.furnitures)!=null&&e.length&&h){const s=ce(t.furnitures);h.insertAdjacentHTML("beforeend",s),p==null||p.update()}}catch(t){console.warn("–ù–µ –≤–¥–∞–ª–æ—Å—å –¥–æ–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏:",t.message)}finally{k=!1}}}async function Pe(){if(!(!W||!h)){h.classList.remove("furniture-list"),k=!0;try{const e=await le({page:H,limit:re});R=typeof e.totalItems=="number"?e.totalItems:e.furnitures.length,h.innerHTML=ce(e.furnitures);const t={modules:[Q,Y],loop:window.innerWidth<768,spaceBetween:16,breakpoints:{0:{slidesPerView:1,centeredSlides:!0,spaceBetween:8},768:{slidesPerView:2,centeredSlides:!1,spaceBetween:20},1440:{slidesPerView:4,centeredSlides:!1,spaceBetween:24}},observer:!0,observeParents:!0,observeSlideChildren:!0,updateOnWindowResize:!0,roundLengths:!0,watchOverflow:!0,on:{resize(){this.update()},beforeResize(){this.updateSize()},slideChange(){if(I){const n=I.querySelectorAll(".popular-bullet");if(n.length){const i=this.realIndex%K;n.forEach((o,r)=>o.classList.toggle("popular-bullet-active",r===i))}}this.slides.length-this.realIndex-this.params.slidesPerView<=3&&X()},reachEnd:()=>X()}};Z&&J&&(t.navigation={nextEl:J,prevEl:Z}),I&&(t.pagination={el:I,clickable:!0,bulletClass:"popular-bullet",bulletActiveClass:"popular-bullet-active",renderBullet:(s,n)=>s<K?`<span class="${n}"></span>`:""}),p=new ee(W,t),requestAnimationFrame(()=>p==null?void 0:p.update()),window.addEventListener("resize",Ie(()=>{p&&(p.updateSize(),p.updateSlides(),p.update())},120)),p.emit("slideChange")}catch(e){console.error("–ü–æ–º–∏–ª–∫–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å–ª–∞–π–¥–µ—Ä–∞:",e),w.error({title:"–ü–æ–º–∏–ª–∫–∞",message:"–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Ç–æ–≤–∞—Ä–∏."})}finally{k=!1}}}document.addEventListener("DOMContentLoaded",()=>{q==null||q.addEventListener("click",N),window.addEventListener("click",e=>{e.target===b&&N()}),window.addEventListener("keydown",e=>{e.key==="Escape"&&!(b!=null&&b.classList.contains("hidden"))&&N()}),h&&h.addEventListener("click",async e=>{const t=e.target.closest(".details-btn");if(!t)return;const s=String(t.dataset.id);let n=x.get(s);n||(w.info({title:"–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...",message:"–û—Ç—Ä–∏–º—É—î–º–æ –¥–µ—Ç–∞–ª—ñ —Ç–æ–≤–∞—Ä—É."}),n=await Te(s)),n?ae(n):w.error({title:"–ü–æ–º–∏–ª–∫–∞",message:"–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ —Ç–æ–≤–∞—Ä."})}),setTimeout(Pe,100)});document.addEventListener("DOMContentLoaded",function(){new de(".accordion-container",{duration:300,showMultiple:!1,openOnInit:[],elementClass:"ac",triggerClass:"ac-trigger",panelClass:"ac-panel",activeClass:"is-active"})});document.querySelector(".js-feedback-cart");document.querySelector(".js-btn-back");document.querySelector(".js-btn-forward");function xe(e){return e>=3.3&&e<=3.7?3.5:e>=3.8&&e<=4.2?4:Math.round(e*2)/2}function ze(e=0){const t=Math.floor(e),s=e%1>=.5,n=5-t-(s?1:0),i='<svg class="star-icon" viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.786L19.335 24 12 19.897 4.665 24l1.401-8.998L.132 9.21l8.2-1.192z"/></svg>',o='<svg class="star-icon half" viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><defs><linearGradient id="grad"><stop offset="50%" stop-color="currentColor"/><stop offset="50%" stop-color="#ccc"/></defs><path fill="url(#grad)" d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.786L19.335 24 12 19.897 4.665 24l1.401-8.998L.132 9.21l8.2-1.192z"/></svg>';let r="";return r+=i.repeat(t),s&&(r+=o),r+='<svg class="star-icon empty" viewBox="0 0 24 24" width="20" height="20" fill="#ccc"><path d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.786L19.335 24 12 19.897 4.665 24l1.401-8.998L.132 9.21l8.2-1.192z"/></svg>'.repeat(n),`<div class="rating-stars">${r}</div>`}function qe(e){return e.map(({name:t,descr:s,rate:n})=>`
        <div class="swiper-slide">
          <div class="feedback-item">
            <div class="star-rating">${ze(xe(n))}</div>
            <p class="feedback-descr">"${s}"</p>
            <p class="feedback-name">${t}</p>
          </div>
        </div>
      `).join("")}async function Ne(){const e=document.querySelector(".js-feedback-cart");if(e)try{const s=(await te.get("https://furniture-store.b.goit.study/api/feedbacks?limit=10")).data.feedbacks;if(!s||s.length===0){w.error({title:"Error",message:"–©–æ—Å—å –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.",position:"topRight"});return}e.innerHTML=qe(s);const n=s.length>3,i=5,o=new ee(".feedback-slider",{modules:[Q,Y],slidesPerGroup:1,slidesPerView:1,spaceBetween:16,loop:!1,watchOverflow:!0,pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(r,c){return r<i?`<span class="${c}"></span>`:""}},navigation:{nextEl:".js-btn-forward",prevEl:".js-btn-back",disabledClass:"swiper-button-disabled"},breakpoints:{768:{slidesPerGroup:1,slidesPerView:2,spaceBetween:24},1440:{slidesPerGroup:1,slidesPerView:3,spaceBetween:24}}});o.on("init slideChange",()=>{var u;const r=document.querySelectorAll(".swiper-pagination-bullet");r.forEach(m=>m.classList.remove("swiper-pagination-bullet-active"));const c=o.realIndex%i;(u=r[c])==null||u.classList.add("swiper-pagination-bullet-active")})}catch{w.error({title:"Error",message:"–©–æ—Å—å –ø—ñ—à–ª–æ –Ω–µ —Ç–∞–∫. –°–ø—Ä–æ–±—É–π—Ç–µ –ø—ñ–∑–Ω—ñ—à–µ.",position:"topRight"})}}Ne();const V=document.getElementById("modal"),Oe=document.getElementById("modal-body"),Fe=document.getElementById("modal-close"),He=document.querySelector(".furniture-list");document.querySelector(".furniture-list").addEventListener("click",e=>{if(e.target.matches(".details-btn")){const t=e.target.dataset.id,s=He.getAttribute("data-items"),n=JSON.parse(s),i=n==null?void 0:n.find(o=>o._id===t);i&&Ve(i)}});function Re(e=0){const t=Math.floor(e),s=e%1>=.5,n=5-t-(s?1:0),i='<svg class="star-icon" viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.786L19.335 24 12 19.897 4.665 24l1.401-8.998L.132 9.21l8.2-1.192z"/></svg>',o='<svg class="star-icon half" viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><defs><linearGradient id="grad"><stop offset="50%" stop-color="currentColor"/><stop offset="50%" stop-color="#ccc"/></defs><path fill="url(#grad)" d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.786L19.335 24 12 19.897 4.665 24l1.401-8.998L.132 9.21l8.2-1.192z"/></svg>';let r="";return r+=i.repeat(t),s&&(r+=o),r+='<svg class="star-icon empty" viewBox="0 0 24 24" width="20" height="20" fill="#ccc"><path d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.786L19.335 24 12 19.897 4.665 24l1.401-8.998L.132 9.21l8.2-1.192z"/></svg>'.repeat(n),`<div class="rating-stars">${r}</div>`}function Ve(e){Oe.innerHTML=`
    <div class="modal-wrapper">
      <div class="modal-images">
        <img class="main-image" src="${e.images[0]}" alt="${e.name}" />
        <div class="modal-thumbs">${e.images.slice(1).map(s=>`<img class="modal-thumb" src="${s}" alt="${e.name}"/>`).join("")}</div>
      </div>
      <div class="modal-info">
        <h2 class="modal-title">${e.name}</h2>
        <p class="modal-subtitle">${e.category.name}</p>
        <p class="modal-price">${e.price.toLocaleString()} –≥—Ä–Ω</p>
        ${Re(e.rate||0)}
        <div class="modal-colors"><p>–ö–æ–ª—ñ—Ä:</p> <div class="color-list">${De(e.color)}</div></div>
        <p class="modal-description">${e.description}</p>
        <p class="modal-size">–†–æ–∑–º—ñ—Ä: ${e.sizes||"280x180x85"}</p>
        <button class="modal-order-btn">–ü–µ—Ä–µ–π—Ç–∏ –¥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</button>
      </div>
    </div>
  `,V.classList.remove("hidden"),document.body.style.overflow="hidden";const t=document.querySelectorAll(".modal .color-swatch");t[0].classList.add("selected"),t.forEach(s=>{s.addEventListener("click",n=>{t.forEach(i=>i.classList.remove("selected")),n.currentTarget.classList.add("selected")})})}function De(e){return Array.isArray(e)?e.map(t=>`<span class="color-swatch" title="${t}" style="background-color: ${t};"></span>`).join(""):`<span class="color-swatch" title="${e}" style="background-color: ${e};"></span>`}function D(){V.classList.add("hidden"),document.body.style.overflow=""}Fe.addEventListener("click",D);window.addEventListener("click",e=>{e.target===V&&D()});window.addEventListener("keydown",e=>{e.key==="Escape"&&D()});const A=document.querySelector(".order-modal-overlay"),O=document.querySelector(".order-modal-form");function P(e){const t=document.querySelector(".open-order");t&&(t.classList.remove("open-order"),document.body.style.overflow="")}function Ge(e){A&&(document.getElementById("modal").classList.add("hidden"),A.classList.add("open-order"),document.addEventListener("keydown",s=>{s.key==="Escape"&&P()}),A.addEventListener("click",s=>{s.target===A&&P()}))}O.addEventListener("submit",async e=>{if(e.preventDefault(),!O.checkValidity()){w.warning({title:"–£–≤–∞–≥–∞",message:"–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –æ–±–æ–≤‚Äô—è–∑–∫–æ–≤—ñ –ø–æ–ª—è",position:"topRight"});return}const t=e.target.elements["user-email"].value.trim(),s=e.target.elements["user-phone"].value.trim(),n=e.target.elements["user-comment"].value.trim(),i={email:t,phone:s,modelId:"682f9bbf8acbdf505592ac36",color:"#1212ca",comment:n};try{const o=await te.post("https://furniture-store.b.goit.study/api-docs/#/order",i);P(),O.reset(),w.success({title:"–ì–æ—Ç–æ–≤–æ!",message:"–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä–µ–Ω–æ",position:"topRight"})}catch{w.error({title:"–ü–æ–º–∏–ª–∫–∞",message:"–ù–µ –≤–¥–∞–ª–æ—Å—è —Å—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è",position:"topRight"})}});const Ue=document.querySelector(".order-modal-close");Ue.addEventListener("click",P);document.addEventListener("click",e=>{e.target.matches(".modal-order-btn")&&Ge()});
//# sourceMappingURL=index.js.map
