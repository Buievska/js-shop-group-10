import{i as L,N as ee,P as te,S as se,A as ge,a as ne}from"./assets/vendor-CUDRsqBn.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".header"),t=document.querySelector(".menu"),s=document.querySelector(".burger-btn"),i=document.querySelector(".close-btn"),n=document.querySelector(".menu-overlay"),o=document.body,r=document.querySelectorAll('a[href^="#"]');if(!t||!s||!e||!o)return;const c=()=>{t.classList.contains("is-open")&&(t.classList.remove("is-open"),e.classList.remove("menu-is-open"),o.classList.remove("no-scroll"))},u=()=>{const m=t.classList.toggle("is-open");e.classList.toggle("menu-is-open",m),o.classList.toggle("no-scroll",m)};s.addEventListener("click",u),i&&i.addEventListener("click",c),n&&n.addEventListener("click",c),document.addEventListener("keydown",m=>{m.key==="Escape"&&c()}),r.forEach(m=>{m.addEventListener("click",function(M){M.preventDefault();const v=document.querySelector(this.getAttribute("href"));v&&v.scrollIntoView({behavior:"smooth"}),c()})})});const fe="/js-shop-group-10/assets/dekor-aksesuari-CzSw66Lx.png",he="/js-shop-group-10/assets/kuhni-Ds7FpeDL.png",ve="/js-shop-group-10/assets/lizka-matratsi-BnPQg_He.png",be="/js-shop-group-10/assets/mebli-dytyacha-nZuEc4S1.png",ye="/js-shop-group-10/assets/mebli-ofis-iLK_KSPZ.png",we="/js-shop-group-10/assets/mebli-peredpokiy-DpNoEvTU.png",Le="/js-shop-group-10/assets/mebli-vanna-B9PodWXR.png",Ee="/js-shop-group-10/assets/myaki-mebli-CcMdjE-B.png",$e="/js-shop-group-10/assets/sadovi-mebli-DMjJP5lX.png",ke="/js-shop-group-10/assets/shafy-sistemy-zberigannya-CBoZdwp0.png",_e="/js-shop-group-10/assets/stiltsi-taburety-BZ3WUpJg.png",Se="/js-shop-group-10/assets/stoly-BXNbRvZr.png",Ce="/js-shop-group-10/assets/vsi-tovary-Dl7iIiub.png",ie="https://furniture-store.b.goit.study/api",z=document.getElementById("category-list"),G=document.getElementById("furniture-list"),l=document.getElementById("pagination"),E=document.getElementById("load-more-mobile"),oe=document.getElementById("loader");let f=[],a=1;const re=8;let x="",$=1;function U(){oe.classList.remove("hidden")}function ae(){oe.classList.add("hidden")}(function(){document.body.insertAdjacentHTML("afterbegin",`
    <svg xmlns="http://www.w3.org/2000/svg" style="display:none;">
      <symbol id="icon-left-arrow" viewBox="0 0 32 32">
        <path d="M16.943 23.057l-5.724-5.724h12.781v-2.667h-12.781l5.724-5.724-1.885-1.885-8.943 8.943 8.943 8.943 1.885-1.885z"></path>
      </symbol>
      <symbol id="icon-right-arrow" viewBox="0 0 32 32">
        <path d="M15.057 23.057l1.885 1.885 8.943-8.943-8.943-8.943-1.885 1.885 5.724 5.724h-12.781v2.667h12.781l-5.724 5.724z"></path>
      </symbol>
    </svg>
  `)})();function le(){window.innerWidth<768?E.classList.remove("hidden"):E.classList.add("hidden")}le();window.addEventListener("resize",le);async function Me(){const e=await fetch(`${ie}/categories`);if(!e.ok)throw new Error("Помилка отримання категорій");return await e.json()}async function ce(e=1,t=""){let s=`${ie}/furnitures?page=${e}&limit=${re}`;t&&(s+=`&category=${t}`);const i=await fetch(s);if(!i.ok)throw new Error("Помилка отримання меблів");const n=await i.json();return G.setAttribute("data-items",JSON.stringify(n==null?void 0:n.furnitures)),n}function J(e){return e||(e="vsi-tovary.png"),new URL(Object.assign({"../img/furniture-list/dekor-aksesuari.png":fe,"../img/furniture-list/kuhni.png":he,"../img/furniture-list/lizka-matratsi.png":ve,"../img/furniture-list/mebli-dytyacha.png":be,"../img/furniture-list/mebli-ofis.png":ye,"../img/furniture-list/mebli-peredpokiy.png":we,"../img/furniture-list/mebli-vanna.png":Le,"../img/furniture-list/myaki-mebli.png":Ee,"../img/furniture-list/sadovi-mebli.png":$e,"../img/furniture-list/shafy-sistemy-zberigannya.png":ke,"../img/furniture-list/stiltsi-taburety.png":_e,"../img/furniture-list/stoly.png":Se,"../img/furniture-list/vsi-tovary.png":Ce})[`../img/furniture-list/${e}`],import.meta.url).href}function Be(e){const t=J("vsi-tovary.png"),s={"Всі товари":"vsi-tovary.png","М'які меблі":"myaki-mebli.png","Шафи та системи зберігання":"shafy-sistemy-zberigannya.png","Ліжка та матраци":"lizka-matratsi.png",Столи:"stoly.png","Стільці та табурети":"stiltsi-taburety.png",Кухні:"kuhni.png","Меблі для дитячої":"mebli-dytyacha.png","Меблі для офісу":"mebli-ofis.png","Меблі для передпокою":"mebli-peredpokiy.png","Меблі для ванної кімнати":"mebli-vanna.png","Садові та вуличні меблі":"sadovi-mebli.png","Декор та аксесуари":"dekor-aksesuari.png"},i=e.map(n=>{const o=n.name.replace(/^"|"$/g,""),r=s[o]||"vsi-tovary.png",c=J(r);return`
        <li class="category-btn-tile" data-category="${n._id}">
          <img src="${c}" alt="${o}" onerror="this.onerror=null;this.src='${t}'" />
          <span class="category-label">${o}</span>
        </li>
      `}).join("");z.innerHTML=`
    <li class="category-btn-tile active" data-category="">
      <img src="${t}" alt="Всі товари" />
      <span class="category-label">Всі товари</span>
    </li>
    ${i}
  `}function R(e){G.innerHTML=e.map(({images:t,name:s,color:i,price:n,_id:o})=>`
      <li class="furniture-item" data-id="${o}">
        <img src="${t[0]}" alt="${s}" />
        <div class="furniture-item-content">
          <h3>${s}</h3>
          <div>${Ie(i)}</div>
          <p>${n} грн</p>
          <button class="details-btn" data-id="${o}">Детальніше</button>
        </div>
      </li>
    `).join("")}function Ie(e){return(Array.isArray(e)?e:[e]).map(s=>`<span class="color-swatch" title="${s}" style="background-color: ${s};"></span>`).join("")}function g(e,{active:t=!1,onClick:s=null}={}){const i=document.createElement("button");return i.textContent=e,i.classList.add("page-btn"),t&&i.classList.add("active"),s&&i.addEventListener("click",()=>{U(),s()}),i}function K(e,{disabled:t=!1}={},s=null){const i=document.createElement("button");i.classList.add("btn-circle"),t&&(i.disabled=!0),!t&&s&&i.addEventListener("click",()=>{U(),s()});const n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("width","25"),n.setAttribute("height","25");const o=document.createElementNS("http://www.w3.org/2000/svg","use");return o.setAttributeNS("http://www.w3.org/1999/xlink","href",e==="left"?"#icon-left-arrow":"#icon-right-arrow"),n.appendChild(o),i.appendChild(n),i}function A(){const e=document.createElement("span");return e.classList.add("pagination-dots"),e.innerHTML='<span class="dot"></span><span class="dot"></span><span class="dot"></span>',e}function Ae(e,t){if(l.innerHTML="",l.appendChild(K("left",{disabled:e===1},()=>{a>1&&(a--,d())})),t<=5)for(let s=1;s<=t;s++)l.appendChild(g(s,{active:s===e,onClick:()=>{a=s,d()}}));else if(e<=3){for(let s=1;s<=3;s++)l.appendChild(g(s,{active:s===e,onClick:()=>{a=s,d()}}));l.appendChild(A()),l.appendChild(g(t,{onClick:()=>{a=t,d()}}))}else if(e>=t-2){l.appendChild(g(1,{onClick:()=>{a=1,d()}})),l.appendChild(A());for(let s=t-2;s<=t;s++)l.appendChild(g(s,{active:s===e,onClick:()=>{a=s,d()}}))}else l.appendChild(g(1,{onClick:()=>{a=1,d()}})),l.appendChild(A()),l.appendChild(g(e-1,{onClick:()=>{a--,d()}})),l.appendChild(g(e,{active:!0})),l.appendChild(g(e+1,{onClick:()=>{a++,d()}})),l.appendChild(A()),l.appendChild(g(t,{onClick:()=>{a=t,d()}}));l.appendChild(K("right",{disabled:e===t},()=>{a<$&&(a++,d())}))}async function d(){a<1&&(a=1),a>$&&(a=$);try{const e=await ce(a,x);$=Math.ceil(e.totalItems/re),window.innerWidth<768?(a===1?f=e.furnitures:f=[...f,...e.furnitures],R(f),f.length>=e.totalItems?E.classList.add("hidden"):E.classList.remove("hidden"),l.classList.add("hidden")):(R(e.furnitures),E.classList.add("hidden"),$>1?(l.classList.remove("hidden"),Ae(a,$)):(l.innerHTML="",l.classList.add("hidden")))}catch(e){console.error("Помилка завантаження меблів:",e)}finally{ae()}}z&&z.addEventListener("click",e=>{const t=e.target.closest("li.category-btn-tile");t&&x!==t.dataset.category&&(x=t.dataset.category,a=1,f=[],G.innerHTML="",[...z.children].forEach(s=>s.classList.remove("active")),t.classList.add("active"),d())});E&&E.addEventListener("click",async()=>{a++;try{U();const e=await ce(a,x);f=[...f,...e.furnitures],R(f),f.length>=e.totalItems&&E.classList.add("hidden")}catch(e){console.error('Помилка завантаження меблів при "Показати ще":',e)}finally{ae()}});async function je(){try{const e=await Me();Be(e),d()}catch(e){console.error("Помилка ініціалізації каталогу:",e)}}const k=()=>{je(),window.removeEventListener("scroll",k),window.removeEventListener("mousemove",k),window.removeEventListener("touchstart",k)};window.addEventListener("scroll",k,{once:!0});window.addEventListener("mousemove",k,{once:!0});window.addEventListener("touchstart",k,{once:!0});const X=document.getElementById("popular-slider-container"),h=document.getElementById("popular-slider"),b=document.getElementById("btn-left"),y=document.getElementById("btn-right"),j=document.getElementById("slider-indicators"),w=document.getElementById("modal"),_=document.getElementById("modal-body"),T=document.getElementById("modal-close"),S="https://furniture-store.b.goit.study/api",de=8;let V=1,D=null,C=!1;const O=new Map;window.__popularCache=O;const Pe=(e,t=120)=>{let s;return(...i)=>{clearTimeout(s),s=setTimeout(()=>e(...i),t)}};function ze(e=0){const t=Math.max(0,Math.min(5,Math.round(Number(e)||0)));return`<div class="stars" aria-label="Рейтинг ${t} з 5">${"★".repeat(t)}${"☆".repeat(5-t)}</div>`}function xe(e){return Array.isArray(e)&&e.length?e.map(t=>`<span class="color-swatch" title="${String(t)}" style="background-color:${String(t)};"></span>`).join(""):typeof e=="string"&&e.trim()?`<span class="color-swatch" title="${e}" style="background-color:${e};"></span>`:""}function ue(e={}){var m,M;if(!w||!_)return;const t=Array.isArray(e.images)?e.images:[],s=t[0]||"https://via.placeholder.com/600x450?text=No+Image",i=e.name||"Без назви",n=((m=e.category)==null?void 0:m.name)||"Категорія",o=typeof e.price=="number"?e.price.toLocaleString():"N/A",r=e.sizes||"—",c=e.description||"";_.innerHTML=`
    <div class="modal-wrapper">
      <div class="modal-images">
        <img class="main-image" src="${s}" alt="${i}" />
        <div class="modal-thumbs">
          ${t.slice(1).map(v=>`<img class="modal-thumb" src="${v}" alt="${i}" />`).join("")}
        </div>
      </div>
      <div class="modal-info">
        <h2 class="modal-title">${i}</h2>
        <p class="modal-subtitle">${n}</p>
        <p class="modal-price">${o} грн</p>
        ${ze(e.rate)}
        <div class="modal-colors">
          <p>Колір:</p>
          <div class="color-list">${xe(e.color)}</div>
        </div>
        <p class="modal-description">${c}</p>
        <p class="modal-size">Розмір: ${r}</p>
        <button class="modal-order-btn">Перейти до замовлення</button>
      </div>
    </div>
  `,w.classList.remove("hidden"),document.body.style.overflow="hidden",(M=_.querySelector(".modal-thumbs"))==null||M.addEventListener("click",v=>{const B=v.target.closest(".modal-thumb");if(!B)return;const I=_.querySelector(".main-image");I&&(I.src=B.src)});const u=_.querySelectorAll(".color-swatch");u.length&&(u[0].classList.add("selected"),u.forEach(v=>v.addEventListener("click",B=>{u.forEach(I=>I.classList.remove("selected")),B.currentTarget.classList.add("selected")})))}window.showModal=ue;function N(){w&&(w.classList.add("hidden"),document.body.style.overflow="")}async function pe({page:e,limit:t}){const s=`${S}/furnitures?type=popular&page=${e}&limit=${t}`;try{const i=await fetch(s,{headers:{Accept:"application/json"}});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const n=await i.json();if(Array.isArray(n==null?void 0:n.furnitures))return n.furnitures.forEach(o=>O.set(String(o._id),o)),n}catch(i){console.error("Fetch error:",i)}throw new Error("Не вдалося отримати дані з API")}async function qe(e){var s;e=String(e);const t=[`${S}/furnitures/${e}`,`${S}/furniture/${e}`,`${S}/furnitures?id=${e}`,`${S}/furniture?id=${e}`];for(const i of t)try{const n=await fetch(i,{headers:{Accept:"application/json"}});if(!n.ok)continue;const o=await n.json(),r=(o==null?void 0:o.furniture)||((s=o==null?void 0:o.furnitures)==null?void 0:s[0])||(o==null?void 0:o._id)&&o;if(r)return O.set(e,r),r}catch{}return null}function me(e){return e.map(t=>{var o;const s=((o=t.images)==null?void 0:o[0])||"https://via.placeholder.com/300x200?text=No+Image",i=Array.isArray(t.color)?t.color.slice(0,3):[],n=Array.from({length:3},(r,c)=>{const u=i[c];return u?`<span class="color-dot" style="background:${u}"></span>`:'<span class="color-dot placeholder"></span>'}).join("");return`
      <li class="furniture-card swiper-slide">
        <img src="${s}" alt="${t.name||"Товар"}" class="card-img" />
        <div class="card-content">
          <h3 class="card-title">${t.name||"Без назви"}</h3>
          <div class="color-list">${n}</div>
          <p class="card-price">${typeof t.price=="number"?t.price+" грн":"—"}</p>
          <button class="details-btn" data-id="${t._id}">Детальніше</button>
        </div>
      </li>`}).join("")}let p=null;const Q=7;async function Y(){var e;if(!C&&!(D!==null&&h&&h.children.length>=D)){C=!0,V+=1;try{const t=await pe({page:V,limit:de});if((e=t==null?void 0:t.furnitures)!=null&&e.length&&h){const s=me(t.furnitures);h.insertAdjacentHTML("beforeend",s),p==null||p.update()}}catch(t){console.warn("Не вдалось довантажити:",t.message)}finally{C=!1}}}async function Oe(){if(!(!X||!h)){h.classList.remove("furniture-list"),C=!0;try{const e=await pe({page:V,limit:de});D=typeof e.totalItems=="number"?e.totalItems:e.furnitures.length,h.innerHTML=me(e.furnitures);const t={modules:[ee,te],loop:!1,spaceBetween:16,breakpoints:{0:{slidesPerView:1,centeredSlides:!0,spaceBetween:8},768:{slidesPerView:2,centeredSlides:!1,spaceBetween:20},1440:{slidesPerView:4,centeredSlides:!1,spaceBetween:24}},observer:!0,observeParents:!0,observeSlideChildren:!0,updateOnWindowResize:!0,roundLengths:!0,watchOverflow:!0,on:{init:function(){b&&y&&(b.classList.toggle("btn-disabled",this.isBeginning),y.classList.toggle("btn-disabled",this.isEnd))},slideChange:function(){if(b&&y&&(b.classList.toggle("btn-disabled",this.isBeginning),y.classList.toggle("btn-disabled",this.isEnd)),j){const i=j.querySelectorAll(".popular-bullet");if(i.length){const n=this.realIndex%Q;i.forEach((o,r)=>o.classList.toggle("popular-bullet-active",r===n))}}this.slides.length-this.realIndex-this.params.slidesPerView<=3&&Y()},resize:function(){this.update(),b&&y&&(b.classList.toggle("btn-disabled",this.isBeginning),y.classList.toggle("btn-disabled",this.isEnd))},beforeResize(){this.updateSize()},reachEnd:()=>Y()}};b&&y&&(t.navigation={nextEl:y,prevEl:b}),j&&(t.pagination={el:j,clickable:!0,bulletClass:"popular-bullet",bulletActiveClass:"popular-bullet-active",renderBullet:(s,i)=>s<Q?`<span class="${i}"></span>`:""}),p=new se(X,t),requestAnimationFrame(()=>p==null?void 0:p.update()),window.addEventListener("resize",Pe(()=>{p&&(p.updateSize(),p.updateSlides(),p.update())},120)),p.emit("slideChange")}catch(e){console.error("Помилка ініціалізації слайдера:",e),L.error({title:"Помилка",message:"Не вдалося завантажити товари."})}finally{C=!1}}}function Te(){T==null||T.addEventListener("click",N),window.addEventListener("click",s=>{s.target===w&&N()}),window.addEventListener("keydown",s=>{s.key==="Escape"&&!(w!=null&&w.classList.contains("hidden"))&&N()}),h&&h.addEventListener("click",async s=>{const i=s.target.closest(".details-btn");if(!i)return;const n=String(i.dataset.id);let o=O.get(n);o||(L.info({title:"Завантаження...",message:"Отримуємо деталі товару."}),o=await qe(n)),o?ue(o):L.error({title:"Помилка",message:"Не вдалося завантажити інформацію про товар."})});const e=document.querySelector(".popular-section");if(!e){console.error("Не знайдено секцію для слайдера. Завантаження не відбудеться.");return}new IntersectionObserver((s,i)=>{s.forEach(n=>{n.isIntersecting&&(Oe(),i.unobserve(e))})},{rootMargin:"200px"}).observe(e)}document.addEventListener("DOMContentLoaded",Te);document.addEventListener("DOMContentLoaded",function(){new ge(".accordion-container",{duration:300,showMultiple:!1,openOnInit:[],elementClass:"ac",triggerClass:"ac-trigger",panelClass:"ac-panel",activeClass:"is-active"})});document.querySelector(".js-feedback-cart");document.querySelector(".js-btn-back");document.querySelector(".js-btn-forward");function Ne(e){return e>=3.3&&e<=3.7?3.5:e>=3.8&&e<=4.2?4:Math.round(e*2)/2}function Fe(e=0){const t=Math.floor(e),s=e%1>=.5,i=5-t-(s?1:0),n='<svg class="star-icon" viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.786L19.335 24 12 19.897 4.665 24l1.401-8.998L.132 9.21l8.2-1.192z"/></svg>',o='<svg class="star-icon half" viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><defs><linearGradient id="grad"><stop offset="50%" stop-color="currentColor"/><stop offset="50%" stop-color="#ccc"/></defs><path fill="url(#grad)" d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.786L19.335 24 12 19.897 4.665 24l1.401-8.998L.132 9.21l8.2-1.192z"/></svg>';let r="";return r+=n.repeat(t),s&&(r+=o),r+='<svg class="star-icon empty" viewBox="0 0 24 24" width="20" height="20" fill="#ccc"><path d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.786L19.335 24 12 19.897 4.665 24l1.401-8.998L.132 9.21l8.2-1.192z"/></svg>'.repeat(i),`<div class="rating-stars">${r}</div>`}function He(e){return e.map(({name:t,descr:s,rate:i})=>`
        <div class="swiper-slide">
          <div class="feedback-item">
            <div class="star-rating">${Fe(Ne(i))}</div>
            <p class="feedback-descr">"${s}"</p>
            <p class="feedback-name">${t}</p>
          </div>
        </div>
      `).join("")}async function Re(){const e=document.querySelector(".js-feedback-cart");if(e)try{const s=(await ne.get("https://furniture-store.b.goit.study/api/feedbacks?limit=10")).data.feedbacks;if(!s||s.length===0){L.error({title:"Error",message:"Щось пішло не так. Спробуйте пізніше.",position:"topRight"});return}e.innerHTML=He(s);const i=s.length>3,n=5,o=new se(".feedback-slider",{modules:[ee,te],slidesPerGroup:1,slidesPerView:1,spaceBetween:16,loop:!1,watchOverflow:!0,pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(r,c){return r<n?`<span class="${c}"></span>`:""}},navigation:{nextEl:".js-btn-forward",prevEl:".js-btn-back",disabledClass:"swiper-button-disabled"},breakpoints:{768:{slidesPerGroup:1,slidesPerView:2,spaceBetween:24},1440:{slidesPerGroup:1,slidesPerView:3,spaceBetween:24}}});o.on("init slideChange",()=>{var u;const r=document.querySelectorAll(".swiper-pagination-bullet");r.forEach(m=>m.classList.remove("swiper-pagination-bullet-active"));const c=o.realIndex%n;(u=r[c])==null||u.classList.add("swiper-pagination-bullet-active")})}catch{L.error({title:"Error",message:"Щось пішло не так. Спробуйте пізніше.",position:"topRight"})}}const F=document.querySelector(".feedback");F&&new IntersectionObserver((t,s)=>{t[0].isIntersecting&&(Re(),s.unobserve(F))},{rootMargin:"200px"}).observe(F);const W=document.getElementById("modal"),Ve=document.getElementById("modal-body"),De=document.getElementById("modal-close"),Ge=document.querySelector(".furniture-list");document.querySelector(".furniture-list").addEventListener("click",e=>{if(e.target.matches(".details-btn")){const t=e.target.dataset.id,s=Ge.getAttribute("data-items"),i=JSON.parse(s),n=i==null?void 0:i.find(o=>o._id===t);n&&We(n)}});function Ue(e=0){const t=Math.floor(e),s=e%1>=.5,i=5-t-(s?1:0),n='<svg class="star-icon" viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.786L19.335 24 12 19.897 4.665 24l1.401-8.998L.132 9.21l8.2-1.192z"/></svg>',o='<svg class="star-icon half" viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><defs><linearGradient id="grad"><stop offset="50%" stop-color="currentColor"/><stop offset="50%" stop-color="#ccc"/></defs><path fill="url(#grad)" d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.786L19.335 24 12 19.897 4.665 24l1.401-8.998L.132 9.21l8.2-1.192z"/></svg>';let r="";return r+=n.repeat(t),s&&(r+=o),r+='<svg class="star-icon empty" viewBox="0 0 24 24" width="20" height="20" fill="#ccc"><path d="M12 .587l3.668 7.431 8.2 1.192-5.934 5.786L19.335 24 12 19.897 4.665 24l1.401-8.998L.132 9.21l8.2-1.192z"/></svg>'.repeat(i),`<div class="rating-stars">${r}</div>`}function We(e){Ve.innerHTML=`
    <div class="modal-wrapper">
      <div class="modal-images">
        <img class="main-image" src="${e.images[0]}" alt="${e.name}" />
        <div class="modal-thumbs">${e.images.slice(1).map(s=>`<img class="modal-thumb" src="${s}" alt="${e.name}"/>`).join("")}</div>
      </div>
      <div class="modal-info">
        <h2 class="modal-title">${e.name}</h2>
        <p class="modal-subtitle">${e.category.name}</p>
        <p class="modal-price">${e.price.toLocaleString()} грн</p>
        ${Ue(e.rate||0)}
        <div class="modal-colors"><p>Колір:</p> <div class="color-list">${Ze(e.color)}</div></div>
        <p class="modal-description">${e.description}</p>
        <p class="modal-size">Розмір: ${e.sizes||"280x180x85"}</p>
        <button class="modal-order-btn">Перейти до замовлення</button>
      </div>
    </div>
  `,W.classList.remove("hidden"),document.body.style.overflow="hidden";const t=document.querySelectorAll(".modal .color-swatch");t[0].classList.add("selected"),t.forEach(s=>{s.addEventListener("click",i=>{t.forEach(n=>n.classList.remove("selected")),i.currentTarget.classList.add("selected")})})}function Ze(e){return Array.isArray(e)?e.map(t=>`<span class="color-swatch" title="${t}" style="background-color: ${t};"></span>`).join(""):`<span class="color-swatch" title="${e}" style="background-color: ${e};"></span>`}function Z(){W.classList.add("hidden"),document.body.style.overflow=""}De.addEventListener("click",Z);window.addEventListener("click",e=>{e.target===W&&Z()});window.addEventListener("keydown",e=>{e.key==="Escape"&&Z()});const P=document.querySelector(".order-modal-overlay"),H=document.querySelector(".order-modal-form");function q(e){const t=document.querySelector(".open-order");t&&(t.classList.remove("open-order"),document.body.style.overflow="")}function Je(e){P&&(document.getElementById("modal").classList.add("hidden"),P.classList.add("open-order"),document.addEventListener("keydown",s=>{s.key==="Escape"&&q()}),P.addEventListener("click",s=>{s.target===P&&q()}))}H.addEventListener("submit",async e=>{if(e.preventDefault(),!H.checkValidity()){L.warning({title:"Увага",message:"Будь ласка, заповніть всі обов’язкові поля",position:"topRight"});return}const t=e.target.elements["user-email"].value.trim(),s=e.target.elements["user-phone"].value.trim(),i=e.target.elements["user-comment"].value.trim(),n={email:t,phone:s,modelId:"682f9bbf8acbdf505592ac36",color:"#1212ca",comment:i};try{const o=await ne.post("https://furniture-store.b.goit.study/api-docs/#/order",n);q(),H.reset(),L.success({title:"Готово!",message:"Замовлення успішно створено",position:"topRight"})}catch{L.error({title:"Помилка",message:"Не вдалося створити замовлення",position:"topRight"})}});const Ke=document.querySelector(".order-modal-close");Ke.addEventListener("click",q);document.addEventListener("click",e=>{e.target.matches(".modal-order-btn")&&Je()});
//# sourceMappingURL=index.js.map
