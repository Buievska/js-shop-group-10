{"version":3,"file":"index.js","sources":["../src/js/header.js","../src/js/furniture-list.js","../src/js/feedback.js","../src/js/order-modal.js"],"sourcesContent":["// --- header.js ---\n\n// Плавний скрол до секцій + закриття меню, якщо треба\nexport function initHeaderNavigation() {\n    const anchorLinks = document.querySelectorAll('a[href^=\"#\"]');\n    anchorLinks.forEach(anchor => {\n      anchor.addEventListener('click', function (e) {\n        e.preventDefault();\n  \n        const target = document.querySelector(this.getAttribute('href'));\n        if (target) {\n          target.scrollIntoView({ behavior: 'smooth' });\n        }\n  \n        if (this.closest('.menu')) {\n          const menu = document.querySelector('.menu');\n          const overlay = document.querySelector('.menu-overlay');\n          const body = document.body;\n          if (menu && overlay && body) {\n            menu.classList.remove('open');\n            overlay.classList.remove('visible');\n            body.classList.remove('no-scroll');\n          }\n        }\n      });\n    });\n  }\n  \n  // Інші події навігації\n  document.addEventListener('DOMContentLoaded', () => {\n    const logo = document.querySelector('.header-logo');\n    const burgerBtn = document.querySelector('.burger-btn');\n    const closeBtn = document.querySelector('.close-btn');\n    const menu = document.querySelector('.menu');\n    const overlay = document.querySelector('.menu-overlay');\n    const body = document.body;\n  \n    const openMenu = () => {\n      if (menu && overlay && body) {\n        menu.classList.add('open');\n        overlay.classList.add('visible');\n        body.classList.add('no-scroll');\n      }\n    };\n  \n    const closeMenu = () => {\n      if (menu && overlay && body) {\n        menu.classList.remove('open');\n        overlay.classList.remove('visible');\n        body.classList.remove('no-scroll');\n      }\n    };\n  \n    if (burgerBtn) {\n      burgerBtn.addEventListener('click', openMenu);\n    }\n  \n    if (closeBtn) {\n      closeBtn.addEventListener('click', closeMenu);\n    }\n  \n    if (overlay) {\n      overlay.addEventListener('click', closeMenu);\n    }\n  \n    if (logo) {\n      logo.addEventListener('click', () => {\n        window.scrollTo({ top: 0, behavior: 'smooth' });\n      });\n    }\n  \n    document.addEventListener('keydown', (e) => {\n      if (e.key === 'Escape') {\n        closeMenu();\n      }\n    });\n  });\n  \n\n\n/*для main.js \nimport { initHeaderNavigation } from './header.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initHeaderNavigation();\n});\n*/\n\n \n","const BASE_URL = 'https://furniture-store.b.goit.study/api';\n\nconst categoryList = document.getElementById('category-list');\nconst furnitureList = document.getElementById('furniture-list');\nconst pagination = document.getElementById('pagination');\nconst loadMoreBtn = document.getElementById('load-more-mobile');\n\nlet loadedPagesCount = 1;\nlet allLoadedFurnitures = [];\n\nlet currentPage = 1;\nconst limit = 8;\nlet selectedCategory = '';\nlet totalPages = 1;\n\n// --- Отримати категорії ---\nasync function getCategories() {\n  const res = await fetch(`${BASE_URL}/categories`);\n  if (!res.ok) throw new Error('Помилка отримання категорій');\n  return await res.json();\n}\n\n// --- Отримати меблі ---\nasync function getFurnitures(page = 1, category = '') {\n  let url = `${BASE_URL}/furnitures?page=${page}&limit=${limit}`;\n  if (category) url += `&category=${category}`;\n  const res = await fetch(url);\n  if (!res.ok) throw new Error('Помилка отримання меблів');\n  return await res.json();\n}\n\n// --- Рендер категорій ---\nfunction renderCategories(categories) {\n  const fallbackImg = '/img/furniture-list/всі-товари.png';\n\n  const imageMap = {\n    'Всі товари': 'всі-товари.png',\n    \"М'які меблі\": 'мякі-меблі.png',\n    'Шафи та системи зберігання': 'шафи.png',\n    'Ліжка та матраци': 'ліжка.png',\n    Столи: 'столи.png',\n    'Стільці та табурети': 'стільці.png',\n    Кухні: 'кухні.png',\n    'Меблі для дитячої': 'меблі-дитячі.png',\n    'Меблі для офісу': 'меблі-офіс.png',\n    'Меблі для передпокою': 'передпокій.png',\n    'Меблі для ванної кімнати': 'меблі-вана.png',\n    'Садові та вуличні меблі': 'меблі-садові.png',\n    'Декор та аксесуари': 'декор.png',\n  };\n\n  const markup = categories\n    .map(cat => {\n      let name = cat.name.replace(/^\"|\"$/g, '');\n      const imgFile = imageMap[name] || 'всі-товари.png';\n      const imgPath = `/img/furniture-list/${imgFile}`;\n\n      return `\n        <li class=\"category-btn-tile\" data-category=\"${cat._id}\">\n          <img src=\"${imgPath}\" alt=\"${name}\" onerror=\"this.onerror=null;this.src='${fallbackImg}'\" />\n          <span class=\"category-label\">${name}</span>\n        </li>\n      `;\n    })\n    .join('');\n\n  categoryList.innerHTML = `\n    <li class=\"category-btn-tile active\" data-category=\"\">\n      <img src=\"${fallbackImg}\" alt=\"Всі товари\" />\n      <span class=\"category-label\">Всі товари</span>\n    </li>\n    ${markup}\n  `;\n}\n\n// --- Рендер меблів ---\nfunction renderFurnitureList(furnitures) {\n  furnitureList.innerHTML = furnitures\n    .map(\n      ({ images, name, color, price, _id }) => `\n    <li class=\"furniture-item\" data-id=\"${_id}\">\n      <img src=\"${images[0]}\" alt=\"${name}\" />\n      <div class=\"furniture-item-content\">\n        <h3>${name}</h3>\n        <div>${renderColorSwatches(color)}</div>\n        <p>${price} грн</p>\n        <button class=\"details-btn\" data-id=\"${_id}\">Детальніше</button>\n      </div>\n    </li>\n  `\n    )\n    .join('');\n}\n\n// --- Колірні кружечки ---\nfunction renderColorSwatches(color) {\n  const colors = Array.isArray(color) ? color : [color];\n  return colors\n    .map(\n      c =>\n        `<span class=\"color-swatch\" title=\"${c}\" style=\"background-color: ${c};\"></span>`\n    )\n    .join('');\n}\n\n// --- Пагінація ---\nfunction createPageButton(text, { active = false, onClick = null } = {}) {\n  const btn = document.createElement('button');\n  btn.textContent = text;\n  btn.classList.add('page-btn');\n  if (active) btn.classList.add('active');\n  if (onClick) btn.addEventListener('click', onClick);\n  return btn;\n}\n\nfunction createArrowButton(\n  direction,\n  { disabled = false } = {},\n  onClick = null\n) {\n  const btn = document.createElement('button');\n  btn.classList.add('pagination-arrow');\n  if (disabled) btn.disabled = true;\n  if (!disabled && onClick) btn.addEventListener('click', onClick);\n\n  const svgNS = 'http://www.w3.org/2000/svg';\n  const svg = document.createElementNS(svgNS, 'svg');\n  svg.setAttribute('width', '14');\n  svg.setAttribute('height', '14');\n  svg.setAttribute('viewBox', '0 0 14 14');\n  const path = document.createElementNS(svgNS, 'path');\n\n  path.setAttribute(\n    'd',\n    direction === 'left'\n      ? 'M8.707 12.293L7.293 13.707L0.586 6.99997L7.293 0.292969L8.707 1.70697L4.414 5.99997H14V7.99997H4.414L8.707 12.293Z'\n      : 'M5.293 12.293L6.707 13.707L13.414 6.99997L6.707 0.292969L5.293 1.70697L9.586 5.99997H0V7.99997H9.586L5.293 12.293Z'\n  );\n\n  path.setAttribute('fill', disabled ? '#ccc' : 'currentColor');\n  svg.appendChild(path);\n  btn.appendChild(svg);\n  return btn;\n}\n\nfunction createDots() {\n  const span = document.createElement('span');\n  span.classList.add('pagination-dots');\n  span.innerHTML = `<span class=\"dot\"></span><span class=\"dot\"></span><span class=\"dot\"></span>`;\n  return span;\n}\n\nfunction renderPagination(current, total) {\n  pagination.innerHTML = '';\n\n  pagination.appendChild(\n    createArrowButton('left', { disabled: current === 1 }, () => {\n      currentPage--;\n      loadFurniture();\n    })\n  );\n\n  if (total <= 5) {\n    for (let i = 1; i <= total; i++) {\n      pagination.appendChild(\n        createPageButton(i, {\n          active: i === current,\n          onClick: () => {\n            currentPage = i;\n            loadFurniture();\n          },\n        })\n      );\n    }\n  } else if (current <= 3) {\n    for (let i = 1; i <= 3; i++) {\n      pagination.appendChild(\n        createPageButton(i, {\n          active: i === current,\n          onClick: () => {\n            currentPage = i;\n            loadFurniture();\n          },\n        })\n      );\n    }\n    pagination.appendChild(createDots());\n    pagination.appendChild(\n      createPageButton(total, {\n        onClick: () => {\n          currentPage = total;\n          loadFurniture();\n        },\n      })\n    );\n  } else if (current >= total - 2) {\n    pagination.appendChild(\n      createPageButton(1, {\n        onClick: () => {\n          currentPage = 1;\n          loadFurniture();\n        },\n      })\n    );\n    pagination.appendChild(createDots());\n    for (let i = total - 2; i <= total; i++) {\n      pagination.appendChild(\n        createPageButton(i, {\n          active: i === current,\n          onClick: () => {\n            currentPage = i;\n            loadFurniture();\n          },\n        })\n      );\n    }\n  } else {\n    pagination.appendChild(\n      createPageButton(1, {\n        onClick: () => {\n          currentPage = 1;\n          loadFurniture();\n        },\n      })\n    );\n    pagination.appendChild(createDots());\n    pagination.appendChild(\n      createPageButton(current - 1, {\n        onClick: () => {\n          currentPage--;\n          loadFurniture();\n        },\n      })\n    );\n    pagination.appendChild(createPageButton(current, { active: true }));\n    pagination.appendChild(\n      createPageButton(current + 1, {\n        onClick: () => {\n          currentPage++;\n          loadFurniture();\n        },\n      })\n    );\n    pagination.appendChild(createDots());\n    pagination.appendChild(\n      createPageButton(total, {\n        onClick: () => {\n          currentPage = total;\n          loadFurniture();\n        },\n      })\n    );\n  }\n\n  pagination.appendChild(\n    createArrowButton('right', { disabled: current === total }, () => {\n      currentPage++;\n      loadFurniture();\n    })\n  );\n}\n\n// --- Завантажити меблі ---\nasync function loadFurniture() {\n  const isMobile = window.innerWidth <= 768;\n\n  try {\n    const data = await getFurnitures(\n      isMobile ? 1 : currentPage,\n      selectedCategory\n    );\n    totalPages = Math.ceil(data.totalItems / limit);\n\n    if (isMobile) {\n      if (loadedPagesCount === 1) {\n        allLoadedFurnitures = data.furnitures;\n      }\n      renderFurnitureList(allLoadedFurnitures);\n\n      if (loadMoreBtn) {\n        loadMoreBtn.style.display =\n          allLoadedFurnitures.length >= data.totalItems\n            ? 'none'\n            : 'inline-block';\n      }\n\n      pagination.innerHTML = '';\n      pagination.classList.add('hidden');\n    } else {\n      renderFurnitureList(data.furnitures);\n      if (loadMoreBtn) loadMoreBtn.style.display = 'none';\n\n      if (totalPages > 1) {\n        renderPagination(currentPage, totalPages);\n        pagination.classList.remove('hidden');\n      } else {\n        pagination.innerHTML = '';\n        pagination.classList.add('hidden');\n      }\n    }\n  } catch (err) {\n    console.error('Помилка завантаження меблів:', err);\n  }\n}\n\n// --- Обробники подій ---\nif (categoryList) {\n  categoryList.addEventListener('click', e => {\n    const target = e.target.closest('li.category-btn-tile');\n    if (!target) return;\n\n    if (selectedCategory === target.dataset.category) return;\n\n    selectedCategory = target.dataset.category;\n    currentPage = 1;\n    loadedPagesCount = 1;\n    allLoadedFurnitures = [];\n\n    [...categoryList.children].forEach(li => li.classList.remove('active'));\n    target.classList.add('active');\n\n    loadFurniture();\n  });\n}\n\nif (loadMoreBtn) {\n  loadMoreBtn.addEventListener('click', async () => {\n    loadedPagesCount++;\n    try {\n      const data = await getFurnitures(loadedPagesCount, selectedCategory);\n      allLoadedFurnitures = [...allLoadedFurnitures, ...data.furnitures];\n      renderFurnitureList(allLoadedFurnitures);\n\n      if (allLoadedFurnitures.length >= data.totalItems) {\n        loadMoreBtn.style.display = 'none';\n      }\n    } catch (err) {\n      console.error('Помилка завантаження меблів при \"Показати ще\":', err);\n    }\n  });\n}\n\n// --- Ініціалізація ---\n(async function init() {\n  try {\n    const categories = await getCategories();\n    renderCategories(categories);\n    loadFurniture();\n  } catch (err) {\n    console.error('Помилка ініціалізації:', err);\n  }\n})();\n","import axios from 'axios';\nimport Swiper from 'swiper';\nimport { Navigation, Pagination } from 'swiper/modules';\nimport 'swiper/css';\nimport 'swiper/css/navigation';\nimport 'swiper/css/pagination';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// отримання розмітки\nconst container = document.querySelector('.js-feedback-cart');\nconst btnBack = document.querySelector('.js-btn-back');\nconst btnForward = document.querySelector('.js-btn-forward');\n\n// функція для округлення оцінки\nfunction roundRating(rating) {\n  if (rating >= 3.3 && rating <= 3.7) {\n    return 3.5;\n  } else if (rating >= 3.8 && rating <= 4.2) {\n    return 4;\n  }\n  return Math.round(rating * 2) / 2;\n}\n\n// функція для відтворення зірок\nfunction renderStars(rating, max = 5) {\n  let stars = '';\n  for (let i = 1; i <= max; i++) {\n    if (rating >= i) {\n      stars += '<span class=\"star star--full\">★</span>';\n    } else if (rating >= i - 0.5) {\n      stars += `\n        <span class=\"star star--half\">\n          <span class=\"star-bg\">★</span>\n          <span class=\"star-fg\">★</span>\n        </span>`;\n    } else {\n      stars += '<span class=\"star star--empty\">★</span>';\n    }\n  }\n  return stars;\n}\n\n// Функція для створення розмітки\nfunction createMarkup(arr) {\n  return arr\n    .map(({ name, descr, rate }) => {\n      const starsHTML = renderStars(roundRating(rate));\n      // Кожен відгук тепер це swiper-slide\n      return `\n        <div class=\"swiper-slide\">\n          <div class=\"feedback-item\">\n            <div class=\"star-rating\">${starsHTML}</div>\n            <p class=\"feedback-descr\">\"${descr}\"</p>\n            <p class=\"feedback-name\">${name}</p>\n          </div>\n        </div>\n      `;\n    })\n    .join('');\n}\n\n// Головна і єдина функція, що все завантажує та ініціалізує\nasync function initFeedbackSlider() {\n  const container = document.querySelector('.js-feedback-cart');\n  if (!container) return;\n  try {\n    const response = await axios.get(\n      'https://furniture-store.b.goit.study/api/feedbacks?limit=10'\n    );\n    const reviews = response.data.feedbacks;\n    if (!reviews || reviews.length === 0) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Щось пішло не так. Спробуйте пізніше.',\n        position: 'topRight',\n      });\n      return;\n    }\n    container.innerHTML = createMarkup(reviews);\n    const enableLoop = reviews.length > 3;\n\n    // Ініціалізуємо Swiper\n    const swiper = new Swiper('.feedback-slider', {\n      // ВАЖЛИВО: Реєструємо ОБИДВА модулі - Navigation та Pagination\n      modules: [Navigation, Pagination],\n      slidesPerGroup: 1,\n      slidesPerView: 1,\n      spaceBetween: 16,\n      // loop: enableLoop,\n      // Налаштування для пагінації (крапочок)\n      pagination: {\n        el: '.swiper-pagination', // <-- вказуємо клас контейнера\n        clickable: true, // <-- робимо крапки клікабельними\n      },\n      // Налаштування для навігації (стрілок)\n      navigation: {\n        nextEl: '.js-btn-forward',\n        prevEl: '.js-btn-back',\n      },\n      // Адаптивність\n      breakpoints: {\n        768: {\n          slidesPerGroup: 2,\n          slidesPerView: 2,\n          spaceBetween: 24,\n        },\n        1440: {\n          slidesPerGroup: 3,\n          slidesPerView: 3,\n          spaceBetween: 24,\n        },\n      },\n    });\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Щось пішло не так. Спробуйте пізніше.',\n      position: 'topRight',\n    });\n  }\n}\n// Запускаємо всю логіку\ninitFeedbackSlider();\n","import axios from \"axios\";\nimport iziToast from \"izitoast\";\n\nconst orderModal = document.querySelector('.order-modal-overlay');\nconst orderForm = document.querySelector('.order-modal-form');\n\nfunction closeOrderModal(event) {\n    const orderModalClose = document.querySelector('.open-order');\n    if (orderModalClose) {\n        orderModalClose.classList.remove('open-order');\n        document.removeEventListener('keydown', (event) => {\n        if (event.key === 'Escape') {\n                closeOrderModal();\n            }\n        });\n    }\n};\n\nfunction openOrderModal(event) {\n    if (orderModal) {\n        event.preventDefault();\n        orderModal.classList.add('open-order');\n        document.addEventListener('keydown', (event) => {\n            if (event.key === 'Escape') {\n                closeOrderModal();\n            }\n        });\n        orderModal.addEventListener('click', (event) => {\n            if (event.target === orderModal) {\n                closeOrderModal();\n            }\n        });\n    }\n};\n\norderForm.addEventListener('submit', async (event) => {\n    event.preventDefault();\n    if (!orderForm.checkValidity()) {\n    iziToast.warning({\n        title: 'Увага',\n        message: 'Будь ласка, заповніть всі обов’язкові поля',\n        position: 'topRight'\n    });\n    return;\n    }\n    const inputEmail = event.target.elements[\"user-email\"].value.trim();\n    const inputPhone = event.target.elements[\"user-phone\"].value.trim();\n    const inputComment = event.target.elements[\"user-comment\"].value.trim();\n    const orderData = {\n        \"email\": inputEmail,\n        \"phone\": inputPhone,\n        \"modelId\": \"682f9bbf8acbdf505592ac36\",\n        \"color\": \"#1212ca\",\n        \"comment\": inputComment\n    };\n    try {\n        const response = await axios.post('https://furniture-store.b.goit.study/api-docs/#/order', orderData);\n        iziToast.success({\n            title: 'Готово!',\n            message: 'Замовлення успішно створено',\n            position: 'topRight'\n        });\n        closeOrderModal();\n        orderForm.reset();\n    }\n    catch (error) {\n        iziToast.error({\n            title: 'Помилка',\n            message: 'Не вдалося створити замовлення',\n            position: 'topRight'\n        });\n    };\n});\n\nconst btnCloseOrder = document.querySelector('.order-modal-close');\nbtnCloseOrder.addEventListener(\"click\", closeOrderModal);\nconst btnOpenOrder = document.querySelector('.btn-btn');\nbtnOpenOrder.addEventListener(\"click\", openOrderModal);\n\n\n"],"names":["logo","burgerBtn","closeBtn","menu","overlay","body","openMenu","closeMenu","e","BASE_URL","categoryList","furnitureList","pagination","loadMoreBtn","loadedPagesCount","allLoadedFurnitures","currentPage","limit","selectedCategory","totalPages","getCategories","res","getFurnitures","page","category","url","renderCategories","categories","fallbackImg","imageMap","markup","cat","name","imgPath","renderFurnitureList","furnitures","images","color","price","_id","renderColorSwatches","c","createPageButton","text","active","onClick","btn","createArrowButton","direction","disabled","svgNS","svg","path","createDots","span","renderPagination","current","total","loadFurniture","i","isMobile","data","err","target","li","roundRating","rating","renderStars","max","stars","createMarkup","arr","descr","rate","initFeedbackSlider","container","reviews","axios","iziToast","enableLoop","swiper","Swiper","Navigation","Pagination","orderModal","orderForm","closeOrderModal","event","orderModalClose","openOrderModal","inputEmail","inputPhone","inputComment","orderData","response","btnCloseOrder","btnOpenOrder"],"mappings":"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"}