{"version":3,"file":"index.js","sources":["../src/js/order-modal.js"],"sourcesContent":["import axios from \"axios\";\nimport iziToast from \"izitoast\";\n\nconst orderModal = document.querySelector('.order-modal-overlay');\nconst orderForm = document.querySelector('.order-modal-form');\n\nfunction closeOrderModal(event) {\n    const orderModalClose = document.querySelector('.open-order');\n    if (orderModalClose) {\n        orderModalClose.classList.remove('open-order');\n        document.removeEventListener('keydown', (event) => {\n        if (event.key === 'Escape') {\n                closeOrderModal();\n            }\n        });\n    }\n};\n\nfunction openOrderModal(event) {\n    if (orderModal) {\n        event.preventDefault();\n        orderModal.classList.add('open-order');\n        document.addEventListener('keydown', (event) => {\n            if (event.key === 'Escape') {\n                closeOrderModal();\n            }\n        });\n        orderModal.addEventListener('click', (event) => {\n            if (event.target === orderModal) {\n                closeOrderModal();\n            }\n        });\n    }\n};\n\norderForm.addEventListener('submit', async (event) => {\n    event.preventDefault();\n    if (!orderForm.checkValidity()) {\n    iziToast.warning({\n        title: 'Увага',\n        message: 'Будь ласка, заповніть всі обов’язкові поля',\n        position: 'topRight'\n    });\n    return;\n    }\n    const inputEmail = event.target.elements[\"user-email\"].value.trim();\n    const inputPhone = event.target.elements[\"user-phone\"].value.trim();\n    const inputComment = event.target.elements[\"user-comment\"].value.trim();\n    const orderData = {\n        \"email\": inputEmail,\n        \"phone\": inputPhone,\n        \"modelId\": \"682f9bbf8acbdf505592ac36\",\n        \"color\": \"#1212ca\",\n        \"comment\": inputComment\n    };\n    try {\n        const response = await axios.post('https://furniture-store.b.goit.study/api-docs/#/order', orderData);\n        iziToast.success({\n            title: 'Готово!',\n            message: 'Замовлення успішно створено',\n            position: 'topRight'\n        });\n        closeOrderModal();\n        orderForm.reset();\n    }\n    catch (error) {\n        iziToast.error({\n            title: 'Помилка',\n            message: 'Не вдалося створити замовлення',\n            position: 'topRight'\n        });\n    };\n});\n\nconst btnCloseOrder = document.querySelector('.order-modal-close');\nbtnCloseOrder.addEventListener(\"click\", closeOrderModal);\nconst btnOpenOrder = document.querySelector('.btn-btn');\nbtnOpenOrder.addEventListener(\"click\", openOrderModal);\n\n\n"],"names":["orderModal","orderForm","closeOrderModal","event","orderModalClose","openOrderModal","iziToast","inputEmail","inputPhone","inputComment","orderData","response","axios","btnCloseOrder","btnOpenOrder"],"mappings":"6vBAGA,MAAMA,EAAa,SAAS,cAAc,sBAAsB,EAC1DC,EAAY,SAAS,cAAc,mBAAmB,EAE5D,SAASC,EAAgBC,EAAO,CAC5B,MAAMC,EAAkB,SAAS,cAAc,aAAa,EACxDA,IACAA,EAAgB,UAAU,OAAO,YAAY,EAC7C,SAAS,oBAAoB,UAAYD,GAAU,CAC/CA,EAAM,MAAQ,UACVD,GAEhB,CAAS,EAET,CAEA,SAASG,EAAeF,EAAO,CACvBH,IACAG,EAAM,eAAc,EACpBH,EAAW,UAAU,IAAI,YAAY,EACrC,SAAS,iBAAiB,UAAYG,GAAU,CACxCA,EAAM,MAAQ,UACdD,GAEhB,CAAS,EACDF,EAAW,iBAAiB,QAAUG,GAAU,CACxCA,EAAM,SAAWH,GACjBE,GAEhB,CAAS,EAET,CAEAD,EAAU,iBAAiB,SAAU,MAAOE,GAAU,CAElD,GADAA,EAAM,eAAc,EAChB,CAACF,EAAU,gBAAiB,CAChCK,EAAS,QAAQ,CACb,MAAO,QACP,QAAS,6CACT,SAAU,UAClB,CAAK,EACD,MACC,CACD,MAAMC,EAAaJ,EAAM,OAAO,SAAS,YAAY,EAAE,MAAM,OACvDK,EAAaL,EAAM,OAAO,SAAS,YAAY,EAAE,MAAM,OACvDM,EAAeN,EAAM,OAAO,SAAS,cAAc,EAAE,MAAM,OAC3DO,EAAY,CACd,MAASH,EACT,MAASC,EACT,QAAW,2BACX,MAAS,UACT,QAAWC,CACnB,EACI,GAAI,CACA,MAAME,EAAW,MAAMC,EAAM,KAAK,wDAAyDF,CAAS,EACpGJ,EAAS,QAAQ,CACb,MAAO,UACP,QAAS,8BACT,SAAU,UACtB,CAAS,EACDJ,IACAD,EAAU,MAAK,CAClB,MACa,CACVK,EAAS,MAAM,CACX,MAAO,UACP,QAAS,iCACT,SAAU,UACtB,CAAS,CAET,CAAA,CAAC,EAED,MAAMO,EAAgB,SAAS,cAAc,oBAAoB,EACjEA,EAAc,iBAAiB,QAASX,CAAe,EACvD,MAAMY,EAAe,SAAS,cAAc,UAAU,EACtDA,EAAa,iBAAiB,QAAST,CAAc"}